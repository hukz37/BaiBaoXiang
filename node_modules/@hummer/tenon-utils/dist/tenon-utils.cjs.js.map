{"version":3,"file":"tenon-utils.cjs.js","sources":["../src/normalizeProp.ts","../src/style/transformer/attrname.ts","../src/style/common/color.ts","../src/utils/api.ts","../src/utils/index.ts","../src/style/transformer/unit.ts","../src/style/transformer/color.ts","../src/style/transformer/break-token.ts","../src/style/common/utils.ts","../src/style/transformer/border.ts","../src/style/transformer/shadow.ts","../src/style/transformer/adapter.ts","../src/style/common/background.ts","../src/style/transformer/background.ts","../src/style/transformer/flex.ts","../src/style/transformer/transform.ts","../src/style/transformer/transition.ts","../src/components/types.ts","../src/style/dynamic-transformer/adapter.ts","../src/style/index.ts","../src/components/index.ts","../src/index.ts"],"sourcesContent":["const listDelimiterRE = /;(?![^(]*\\))/g\nconst propertyDelimiterRE = /:(.+)/\nexport type NormalizedStyle = Record<string, string | number>\n\nexport function parseStringStyle(cssText: string): NormalizedStyle {\n  const ret: NormalizedStyle = {}\n  cssText.split(listDelimiterRE).forEach(item => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE)\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim())\n    }\n  })\n  return ret\n}\n","/**\n * 属性名驼峰转换\n * @param style 待转换的Style值\n */\nexport function transformAttr(style:Record<string, string>){\n  let tempStyle:Record<string, string> = {}\n  Object.keys(style).forEach(key => {\n    let humpKey = transformHumpKey(key)\n    tempStyle[humpKey] = style[key]\n  })\n  return tempStyle\n}\n\nfunction transformHumpKey(key: string):string{\n  let humpKey = key.replace(/-(\\w)/g, ($0, $1) => {\n    return $1.toUpperCase()\n  })\n  return humpKey\n}","/*\n * Hummer中只支持十六进制颜色 这里对常用颜色做一个映射\n */\nexport const COLOR_MAP:Record<string, string> = {\n  aliceblue: '#f0f8ff',\n  antiquewhite: '#faebd7',\n  aqua: '#00ffff',\n  aquamarine: '#7fffd4',\n  azure: '#f0ffff',\n  beige: '#f5f5dc',\n  bisque: '#ffe4c4',\n  black: '#000000',\n  blanchedalmond: '#ffebcd',\n  blue: '#0000ff',\n  blueviolet: '#8a2be2',\n  brown: '#a52a2a',\n  burlywood: '#deb887',\n  cadetblue: '#5f9ea0',\n  chartreuse: '#7fff00',\n  chocolate: '#d2691e',\n  coral: '#ff7f50',\n  cornflowerblue: '#6495ed',\n  cornsilk: '#fff8dc',\n  crimson: '#dc143c',\n  cyan: '#00ffff',\n  darkblue: '#00008b',\n  darkcyan: '#008b8b',\n  darkgoldenrod: '#b8860b',\n  darkgray: '#a9a9a9',\n  darkgrey: '#a9a9a9',\n  darkgreen: '#006400',\n  darkkhaki: '#bdb76b',\n  darkmagenta: '#8b008b',\n  darkolivegreen: '#556b2f',\n  darkorange: '#ff8c00',\n  darkorchid: '#9932cc',\n  darkred: '#8b0000',\n  darksalmon: '#e9967a',\n  darkseagreen: '#8fbc8f',\n  darkslateblue: '#483d8b',\n  darkslategray: '#2f4f4f',\n  darkslategrey: '#2f4f4f',\n  darkturquoise: '#00ced1',\n  darkviolet: '#9400d3',\n  deeppink: '#ff1493',\n  deepskyblue: '#00bfff',\n  dimgray: '#696969',\n  dimgrey: '#696969',\n  dodgerblue: '#1e90ff',\n  firebrick: '#b22222',\n  floralwhite: '#fffaf0',\n  forestgreen: '#228b22',\n  fuchsia: '#ff00ff',\n  gainsboro: '#dcdcdc',\n  ghostwhite: '#f8f8ff',\n  gold: '#ffd700',\n  goldenrod: '#daa520',\n  gray: '#808080',\n  grey: '#808080',\n  green: '#008000',\n  greenyellow: '#adff2f',\n  honeydew: '#f0fff0',\n  hotpink: '#ff69b4',\n  indianred: '#cd5c5c',\n  indigo: '#4b0082',\n  ivory: '#fffff0',\n  khaki: '#f0e68c',\n  lavender: '#e6e6fa',\n  lavenderblush: '#fff0f5',\n  lawngreen: '#7cfc00',\n  lemonchiffon: '#fffacd',\n  lightblue: '#add8e6',\n  lightcoral: '#f08080',\n  lightcyan: '#e0ffff',\n  lightgoldenrodyellow: '#fafad2',\n  lightgray: '#d3d3d3',\n  lightgrey: '#d3d3d3',\n  lightgreen: '#90ee90',\n  lightpink: '#ffb6c1',\n  lightsalmon: '#ffa07a',\n  lightseagreen: '#20b2aa',\n  lightskyblue: '#87cefa',\n  lightslateblue: '#8470ff',\n  lightslategray: '#778899',\n  lightslategrey: '#778899',\n  lightsteelblue: '#b0c4de',\n  lightyellow: '#ffffe0',\n  lime: '#00ff00',\n  limegreen: '#32cd32',\n  linen: '#faf0e6',\n  magenta: '#ff00ff',\n  maroon: '#800000',\n  mediumaquamarine: '#66cdaa',\n  mediumblue: '#0000cd',\n  mediumorchid: '#ba55d3',\n  mediumpurple: '#9370db',\n  mediumseagreen: '#3cb371',\n  mediumslateblue: '#7b68ee',\n  mediumspringgreen: '#00fa9a',\n  mediumturquoise: '#48d1cc',\n  mediumvioletred: '#c71585',\n  midnightblue: '#191970',\n  mintcream: '#f5fffa',\n  mistyrose: '#ffe4e1',\n  moccasin: '#ffe4b5',\n  navajowhite: '#ffdead',\n  navy: '#000080',\n  oldlace: '#fdf5e6',\n  olive: '#808000',\n  olivedrab: '#6b8e23',\n  orange: '#ffa500',\n  orangered: '#ff4500',\n  orchid: '#da70d6',\n  palegoldenrod: '#eee8aa',\n  palegreen: '#98fb98',\n  paleturquoise: '#afeeee',\n  palevioletred: '#db7093',\n  papayawhip: '#ffefd5',\n  peachpuff: '#ffdab9',\n  peru: '#cd853f',\n  pink: '#ffc0cb',\n  plum: '#dda0dd',\n  powderblue: '#b0e0e6',\n  purple: '#800080',\n  rebeccapurple: '#663399',\n  red: '#ff0000',\n  rosybrown: '#bc8f8f',\n  royalblue: '#4169e1',\n  saddlebrown: '#8b4513',\n  salmon: '#fa8072',\n  sandybrown: '#f4a460',\n  seagreen: '#2e8b57',\n  seashell: '#fff5ee',\n  sienna: '#a0522d',\n  silver: '#c0c0c0',\n  skyblue: '#87ceeb',\n  slateblue: '#6a5acd',\n  slategray: '#708090',\n  slategrey: '#708090',\n  snow: '#fffafa',\n  springgreen: '#00ff7f',\n  steelblue: '#4682b4',\n  tan: '#d2b48c',\n  teal: '#008080',\n  thistle: '#d8bfd8',\n  tomato: '#ff6347',\n  transparent: '#000000',\n  turquoise: '#40e0d0',\n  violet: '#ee82ee',\n  violetred: '#d02090',\n  wheat: '#f5deb3',\n  white: '#ffffff',\n  whitesmoke: '#f5f5f5',\n  yellow: '#ffff00',\n  yellowgreen: '#9acd32'\n}\n\nexport function getColor(color:string){\n  return COLOR_MAP[color] || color\n} \n\n","\n// const {Hummer} = __GLOBAL__\n// import {extend} from '../index'\n/**\n * 环境参数\n * @param platform 平台类型\n * @param osVersion 平台系统版本号\n * @param appVersion App版本号\n * @param appName App名字\n * @param statusBarHeight 状态栏高度\n * @param safeAreaBottom iOS安全区域高度\n * @param deviceWidth 设备宽度\n * @param deviceHeight 设备高度\n * @param availableWidth 可用范围宽度\n * @param availableHeight 可用范围高度\n * @param scale 像素缩放比例\n */\nexport interface EnvironmentInfo{\n  platform: string,\n  osVersion: string,\n  appVersion: string,\n  appName: string,\n  statusBarHeight: number,\n  safeAreaBottom: number,\n  deviceWidth: number,\n  deviceHeight: number,\n  availableWidth: number,\n  availableHeight: number,\n  scale: number\n}\n\nexport function getEnvironmentInfo():EnvironmentInfo{\n  // let env = extend({}, Hummer.env, {\n  //   availableWidth: Number(Hummer.env.availableWidth.slice(0,-2)),\n  //   availableHeight: Number(Hummer.env.availableHeight.slice(0,-2)),\n  //   deviceWidth: Number(Hummer.env.deviceWidth.slice(0,-2)),\n  //   deviceHeight: Number(Hummer.env.deviceHeight.slice(0,-2))\n  // })\n  // FIXME: 增加Env的获取\n  return {} as any\n}","/**\n * 遍历数组执行Callback函数，允许跳出循环\n * @param arr  待处理的数组\n * @param callback 待执行的回调函数，返回false则跳转循环\n */\nexport function traverseArr(arr:Array<any>, callback:Function){\n  for(let i = 0;i< arr.length;i++){\n    let item = arr[i]\n    let result = callback(item, i)\n    if(!result){\n      break;\n    }\n  }\n}\n\n/**\n * 将字符串转换为判断是否存在对象中的字符串，空间换时间\n * @param str 待判断的字符串 a,b\n * @param expectedLowerCase 是否要转换为小写\n */\nexport function makeMap(str:string, expectedLowerCase:Boolean =false){\n  const map = Object.create(null)\n  const list:Array<string> = str.split(',')\n  for(let i = 0; i< list.length; i++){\n    map[list[i]] = true\n  }\n  return expectedLowerCase ? (val:any) => !!map[val.toLowerCase()] : (val:any) => !!map[val]\n}\n\n/**\n * 将数组转换为判断是否存在对象中的字符串，空间换时间\n * @param str 待判断的数组 [a,b]\n * @param expectedLowerCase 是否要转换为小写\n */\nexport function makeMapByArr(list:any, expectedLowerCase:Boolean =false){\n  const map = Object.create(null)\n  for(let i = 0; i< list.length; i++){\n    map[list[i]] = true\n  }\n  return expectedLowerCase ? (val:any) => !!map[val.toLowerCase()] : (val:any) => !!map[val]\n}\n\nconst camelizeRE = /-(\\w)/g\n/**\n * 将字符串转换成驼峰命名方式\n * @param str 待判断的字符串 test-data\n * @returns 返回转换后的字符串 testData\n */\nexport function camelize(str:string){\n  return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''))\n}\n\nexport * from './api'","/**\n * 单位处理中间件，将Css中的单位转换为Hummer中特有的单位\n * rem => hm （相对于750像素）\n * px => px hummer侧自行转换\n * 100% => 100%\n * FIXME: 去除Vw和Vh的转换，在compiler编译时，无法取得Hummer的env，这一步需要放到运行时\n * 100vh => 100 * Hummer.env.availableHeight\n * 100vw => 100 * Hummer.env.availableWidth\n * 100vmin => (100 * (Hummer.env.availableWidth < Hummer.env.availableHeight?availableWidth:availableHeight))\n * 100vmax => (100 * (Hummer.env.availableWidth > Hummer.env.availableHeight?availableWidth:availableHeight))\n * Hummer特有单位\n * 100hm 相对于750\n * 100(dp/pt) 原生单位\n * 100px\n * 100%\n * @param style 待处理的Style\n */\nimport { makeMapByArr } from \"../../utils\"\n\n// import { makeMapByArr, getEnvironmentInfo } from \"../../utils\"\n// 待转换单位的属性列表\nexport const unitAttrs = [\n  'font-size', 'placeholder-font-size',\n  'flex-basis',\n  'width', 'max-width','min-width', 'height','max-height','min-height',\n  'padding', 'padding-left', 'padding-right', 'padding-bottom', 'padding-top',\n  'margin', 'margin-left', 'margin-right', 'margin-bottom', 'margin-top',\n  'left', 'right', 'top', 'bottom',\n  'border-width', 'border-left-width','border-right-width', 'border-top-width', 'border-bottom-width',\n  'border-radius', 'border-top-left-radius', 'border-top-right-radius', 'border-bottom-left-radius', 'border-bottom-right-radius'\n]\nexport const isNeedUnitTrasform = makeMapByArr(unitAttrs)\nconst isRemUnit = /rem$/\nconst isVUnit = /v(h|w|min|max)$/\nconst isCpxUnit = /cpx$/\n// const isVhUnit = /vh$/\n// const isVwUnit = /vw$/\n// const isVminUnit = /vmin$/\n// const isVmaxUnit = /vmax$/\n// const isPxUnit = /px$/\n\nexport function transformUnit(style: Record<string, string>) {\n  Object.keys(style).forEach(key => {\n    if(isNeedUnitTrasform(key)){\n      let value = transformUnitValue(style[key])\n      style[key] = value\n    }\n  })\n  return style\n}\n\nexport function transformUnitValue(value:string):string{\n  if(isRemUnit.test(value)){\n    return transfromRem(value)\n  }else if(isVUnit.test(value) ){\n    return transformVUnit(value)\n  }else if(isCpxUnit.test(value)){\n    return transfromCpx(value)\n  }\n  return value\n}\n\nexport function hexify(color:string){\n  var values = color\n  .replace(/rgba?\\(/, '')\n  .replace(/\\)/, '')\n  .replace(/[\\s+]/g, '')\n  .split(',');\n  var a = parseFloat(values[3] || \"1\"),\n  r = parseInt(values[0]),\n  g = parseInt(values[1]),\n  b = parseInt(values[2]),\n  a = Math.floor(a * 255);\n  return \"#\" +\n  (\"0\" + r.toString(16)).slice(-2) +\n  (\"0\" + g.toString(16)).slice(-2) +\n  (\"0\" + b.toString(16)).slice(-2) + \n  (\"0\" + a.toString(16)).slice(-2);\n}\n\nfunction transfromRem(value: string):string{\n  let num = (Number(value.replace(/rem/, '')) * 100) .toFixed(2)\n  return num + 'hm'\n}\n\nfunction transfromCpx(value: string):string{\n  let num = value.replace(/cpx/, 'hm')\n  return num\n}\n\nfunction transformVUnit(value:string):string{\n  return value\n  // let {availableWidth, availableHeight} = getEnvironmentInfo()\n  // let num = Number.parseInt(value.replace(/vh|vw|vmin|vmax/, ''))\n  // let newValue = ''\n  // if(isNaN(num)){\n  //   // 如果数字不合法，不做处理\n  //   return value\n  // }\n  // if(isVhUnit.test(value)){\n  //   newValue = formatDpUnit(num/100 * availableHeight)\n  // }else if(isVwUnit.test(value)){\n  //   newValue = formatDpUnit(num/100 * availableWidth)\n  // }else if(isVminUnit.test(value)){\n  //   newValue = formatDpUnit(num/100 * (availableWidth <= availableHeight?availableWidth: availableHeight))\n  // }else if(isVmaxUnit.test(value)){\n  //   newValue = formatDpUnit(num/100 * (availableWidth >= availableHeight?availableWidth: availableHeight))\n  // }\n  // return newValue\n}\n\n// /**\n//  * 格式化Dp单位，支持小数点后一位\n//  */\n// function formatDpUnit(value:number):string{\n//   return value.toFixed(1).toString()\n// }","import {getColor} from '../common/color'\nimport {makeMap} from '../../utils'\nimport {hexify} from './unit'\n\nconst colorAttrs = \"color,background-color,border-color,border-top-color,border-left-color,border-right-color,border-bottom-color,placeholder-color,cursor-color\"\nconst isColorAttr = makeMap(colorAttrs)\nconst rgbaReg = /rgba?/\nexport function transformColor(style:Record<string, string>):Record<string, string>{\n  Object.keys(style).forEach(key => {\n    if(isColorAttr(key)){\n      let value = style[key]\n      if(isRgba(value)){\n        style[key] = hexify(value)\n      }else {\n        style[key] = transformColorStyle(value)\n      }\n    }\n  })\n  return style\n}\n\nfunction isRgba(color:string){\n  return rgbaReg.test(color)\n}\nfunction transformColorStyle(value: string):string{\n  // 处理 #eee 这种场景\n  if(/^#/.test(value) && value.length === 4){\n    return normalizeColor(value)\n  }else {\n    return getColor(value)\n  }\n}\nfunction normalizeColor(value: string){\n  return value.replace(/(\\w)/ig, function(match){\n    return `${match}${match}`\n  })\n}","/**\n * 属性的拆解\n * \n */\nimport { makeMapByArr } from \"../../utils\"\nimport {extend} from '../../index'\n\nconst commonAttrs = [\"margin\", \"padding\"]\nconst borderAttrs = [\"border-radius\"]\nconst attrs = commonAttrs.concat(borderAttrs)\n// const directions = [\"left\", \"right\", \"top\", \"bottom\"]\nconst isDirectAttr = makeMapByArr(commonAttrs)\nconst isBorderDirectAttr = makeMapByArr(borderAttrs)\ninterface Style {\n  attr: string,\n  value: string\n}\nexport function transformBreakToken(style: Record<string, string>) {\n  let tempStyle:Record<string, string> = {\n    ...style\n  }\n  attrs.forEach(attr => {\n    if(!style[attr]){\n      return\n    }\n    if(isDirectAttr(attr)){\n      delete tempStyle[attr]\n      tempStyle = extend(breakDirectionAttr({\n        attr: attr,\n        value: style[attr]\n      }), tempStyle)\n    }else if(isBorderDirectAttr(attr)){\n      delete tempStyle[attr]\n      tempStyle = extend(breakBorderRadiusAttr({\n        attr: attr,\n        value: style[attr]\n      }, /\\s+/), tempStyle)\n    }\n  })\n  return tempStyle\n}\n\n/**\n * 进行属性方向的拆解\n * Ex. margin: 10 => margin-left: 10;margin-right: 10;margin-top:10;margin-bottom:10;\n * @param Style  \n */\nfunction breakDirectionAttr({ attr, value }: Style, splitReg: RegExp = /\\s/) {\n  let vals = value.split(splitReg).map(item => {\n    return item.trim()\n  })\n  let top,right,bottom,left\n  switch (vals.length) {\n    case 1:\n      top = vals[0];\n      right = vals[0];\n      bottom = vals[0];\n      left = vals[0];\n      break;\n    case 2:\n      top = vals[0];\n      right = vals[1];\n      bottom = vals[0];\n      left = vals[1];\n      break;\n    case 3:\n      top = vals[0];\n      right = vals[1];\n      bottom = vals[2];\n      left = vals[1];\n      break;\n    case 4:\n      top = vals[0];\n      right = vals[1];\n      bottom = vals[2];\n      left = vals[3];\n      break;\n    default:\n      top = 0;\n      bottom = 0;\n      left = 0;\n      right = 0;\n      break;\n  }\n  return {\n    [attr+'-top']: top,\n    [attr+'-right']: right,\n    [attr+'-bottom']: bottom,\n    [attr+'-left']: left,\n  }\n}\n\n\n/**\n * 进行属性方向的拆解\n * Ex. border-radius: 10 10 => border-top-left-radius: 10;border-top-right-radius: 10;border-bottom-left-radius:10;border-bottom-right-radius:10;\n * TODO: 处理 border-radius: 10px / 20px 场景\n * @param Style  \n */\n\nfunction breakBorderRadiusAttr({ attr, value }: Style, splitReg: RegExp = /\\s+/) {\n  let vals = value.split(splitReg).map(item => {\n    return item.trim()\n  })\n  let topLeft,topRight,bottomLeft,bottomRight\n  if(vals.length === 1){\n    return {\n      'border-radius': vals[0]\n    }\n  }\n  switch (vals.length) {\n    case 1:\n      topLeft = vals[0];\n      topRight = vals[0];\n      bottomRight = vals[0];\n      bottomLeft = vals[0];\n      break;\n    case 2:\n      topLeft = vals[0];\n      topRight = vals[1];\n      bottomRight = vals[0];\n      bottomLeft = vals[1];\n      break;\n    case 3:\n      topLeft = vals[0];\n      topRight = vals[1];\n      bottomRight = vals[2];\n      bottomLeft = vals[1];\n      break;\n    case 4:\n      topLeft = vals[0];\n      topRight = vals[1];\n      bottomRight = vals[2];\n      bottomLeft = vals[3];\n      break;\n    default:\n      topLeft = 0;\n      topRight = 0;\n      bottomRight = 0;\n      bottomLeft = 0;\n      break;\n  }\n  return {\n    ['border-top-left-radius']: topLeft,\n    ['border-top-right-radius']: topRight,\n    ['border-bottom-right-radius']: bottomRight,\n    ['border-bottom-left-radius']: bottomLeft,\n  }\n}\n","export type Length = string | number\nexport type UnitWidth = string\nexport type Width =  Length | Keyword.AUTO\nexport type Style = Record<string, string | number>\nexport type RgbaColor = string\n\nexport const rgbaReg = /rgba?\\([\\d\\.\\s,]+\\)/\n\nexport enum Keyword {\n  AUTO = \"auto\"\n}\n\nexport enum BorderStyle {\n  NONE = 'none',\n  SOLID = 'solid',\n  DASHED = 'dashed',\n  DOTTED = 'dotted'\n}\n\n/**\n * 判断是否是 Number 类型\n * @param num<number> 待判断的 Number 类型 \n * @returns Boolean 是否是Number 类型\n */\nexport function isNumber(num: any):Boolean{\n  return !isNaN(num)\n}\n\n/**\n * 判断是否是 Width 类型\n * @param width<Width> 待判断的 width\n * @returns Boolean 是否是 Width 类型\n */\nexport function isWidth(width: Width):Boolean{\n  return isLength(width) || width === Keyword.AUTO\n}\n\n\n/**\n * 判断是否是 length 类型\n * @param length any\n * @returns Boolean 是否是 Length 类型\n */\nexport function isLength(length: any):Boolean{\n  let lengthReg = /^[\\d\\.]+(%|rem|hm|cpx|px|vw|vh)?$/\n  return lengthReg.test(length)\n}\n\n\n\n/**\n * 判断是否是 BorderStyle 类型\n * @param value \n * @returns \n */\n export function isBorderStyle(value: string):Boolean{\n  return [BorderStyle.NONE,BorderStyle.DASHED,BorderStyle.DOTTED, BorderStyle.SOLID].findIndex((borderStyle:BorderStyle) => {\n    return value === borderStyle\n  }) !== -1\n}\n\n/**\n * 是否包含 Rgba Color\n * @param value \n * @returns \n */\nexport function hasRgbaColor(value:string):Boolean{\n  return rgbaReg.test(value)\n}\n\nexport function getRgbaColor(value:string):RgbaColor|null{\n  if(!value){\n    return null\n  }\n  let matches = value.match(rgbaReg)\n  if(matches && matches.length > 0){\n    let matchStr = matches[0]\n    return matchStr\n  }else{\n    return null\n  }\n}","import {isBorderStyle, isLength, Style, hasRgbaColor, getRgbaColor} from '../common/utils'\nimport {extend} from '../../index'\nconst attrs = [\"border\",\"border-left\", \"border-right\", \"border-top\", \"border-bottom\"]\n\nexport function transformBorder(style:Record<string, string>):Record<string, string>{\n  let tempStyle:Record<string, string> = {\n    ...style\n  }\n  attrs.forEach(attr => {\n    if(!style[attr]){\n      return;\n    }else {\n      delete tempStyle[attr]\n      tempStyle = extend(transformBorderStyle(attr, style[attr]), tempStyle)\n    }\n  })\n  return tempStyle\n}\n\n/**\n * 转换Border Style，进行聚合属性的拆解\n * 参考 MDN 文档：https://developer.mozilla.org/en-US/docs/Web/CSS/border\n * The border property may be specified using one, two, or three of the values listed below. The order of the values does not matter.\n * @param attr 待拆解的属性\n * @param value 待拆解的属性值 * \n * ex.borderLeft: 1px solid #eee; borderWidth: 1px; borderStyle: solid; borderColor: #eee;\n * ex.border: none; borderStyle: none;\n * ex.border: 1px \n */\nfunction transformBorderStyle(attr:string, borderValue:string){\n  let tempStyle:Style = {};\n  // 处理 rgba 的颜色场景\n  if(!hasRgbaColor(borderValue)){\n    let values = borderValue.trim().split(/\\s+/);\n    tempStyle = traverseBorderValue(values, attr)\n  }else{\n    let rgbaColor = getRgbaColor(borderValue)\n    if(rgbaColor){\n      borderValue = borderValue.split(rgbaColor).join(\"\")\n      let values = borderValue.trim().split(/\\s+/)\n      tempStyle = traverseBorderValue(values, attr)\n      tempStyle[attr +'-color'] = rgbaColor\n    }else{\n      let values = borderValue.trim().split(/\\s+/);\n      tempStyle = traverseBorderValue(values, attr)\n    }\n  }\n  return tempStyle\n}\n\n/**\n * 遍历数组，获取标准的 Border Value\n * @param values Array<string>\n * @param attr Unit Border Type\n * @returns Style\n */\nfunction traverseBorderValue(values:Array<string>, attr:string){\n  let tempStyle:Style = {}\n  values.forEach((value) => {\n    if(isBorderStyle(value)){\n      tempStyle[attr + \"-style\"] = value\n    }else if(isLength(value)){\n      tempStyle[attr + \"-width\"] = value\n    }else{\n      tempStyle[attr + \"-color\"] = value\n    }\n  })\n  return tempStyle\n}\n","import {traverseArr} from '../../utils'\nimport {transformUnitValue, hexify} from './unit'\nconst attrs = [\"box-shadow\"]\n\nexport function transformShadow(style:Record<string, string>):Record<string, string>{\n  traverseArr(attrs, function(item:any, index:number){\n    if(style[item]){\n      style[\"shadow\"] = getShadowValue(style[item])\n      delete style[item]\n    }\n  })\n  return style\n}\n\n/**\n * 获取阴影的值\n * @param value\n * 类似值:\"0 8hm 20hm 0 #09284741\"的时候，需要过滤掉第四个值\n */\nfunction getShadowValue(value:string) {\n  let values = value\n  if (!values) {\n    return ''\n  }\n  const shadowItems = transformValue(value)\n  if (shadowItems.length > 4) {\n    values =  [\n      shadowItems[0],\n      shadowItems[1],\n      shadowItems[2],\n      shadowItems[4]\n    ].join(' ')\n  }else{\n    values = shadowItems.join(' ')\n  }\n  return values\n}\n/**\n * 对value进行拆分单位转换\n * @param value\n * style 的 value:'1rem 1rem 1rem rgba(0, 0, 0, 0.1)'，需要转换hm单位和rgba\n * */\nfunction transformValue(value:string){\n  const rgbReg = /rgb?/,\n  rgbaReg = /rgba?/\n  let values = value,\n  shadowItems: Array<string> = new Array()\n  if(rgbReg.test(values)){\n    shadowItems = [\n      ...values.slice(0,values.indexOf('rgb')).trim().split(/\\s/),\n      values.slice(values.indexOf('rgb'))\n    ]\n  }else{\n    shadowItems = values.split(/\\s/)\n  }\n  for(let i = 0; i< shadowItems.length; i++){\n    if(rgbaReg.test(shadowItems[i])){\n      shadowItems[i] = hexify(shadowItems[i])\n    }else{\n      shadowItems[i] = transformUnitValue(shadowItems[i])\n    }\n  }\n  return shadowItems\n}\n","/**\n * 属性适配，特定场景下增加属性值\n * @param style 待转换的Style值\n * @param view 组件\n */\nimport {makeMap} from '../../utils'\n\nconst borderRadius = \"border-radius,border-top-left-radius,border-top-right-radius,border-bottom-left-radius,border-bottom-right-radius\"\nconst isBorderRadius = makeMap(borderRadius)\n\n\nexport function transformAdapter(style:Record<string, string>){\n  let tempStyle:Record<string, string> = {\n    ...style\n  }\n  tempStyle = hackForBorderRadius(tempStyle);\n  tempStyle = hackForDefaultFlex(tempStyle);\n  tempStyle = hackForWhiteSpace(tempStyle);\n  return tempStyle\n}\n\n\n// HACK: 针对WhiteSpace属性，做属性转换，使用textLineClamp来禁止分行\nfunction hackForWhiteSpace(style:Record<string, string>){\n  if(style['white-space'] === 'nowrap'){\n    style['textLineClamp'] = \"1\";\n  }\n  return style\n}\n\n\n// HACK: diplay:flex 中增加flex-direction:row的默认值\nfunction hackForDefaultFlex(style:Record<string, string>){\n  if(style['display'] === 'flex' && !style['flex-direction']){\n    style['flex-direction'] = 'row';\n  }\n  return style\n}\n\n// HACK: iOS中不支持radius 100%，只支持固定宽度\nfunction hackForBorderRadius(style:Record<string, string>){\n  if(hasSpecialAttr(style, isBorderRadius)){\n    transformBorderRadius(style);\n  }\n  return style\n}\n\n/**\n * 判断对象中是否包含样式中任一属性\n */\nfunction hasSpecialAttr(obj: Object, func:Function){\n  return Object.keys(obj).some(key => {\n    return func(key)\n  })\n}\n\n/**\n * 转换Border Radius\n * HACK: 处理radius: 100%；iOS不支持的case\n * @param style \n */\nfunction transformBorderRadius(style: Record<string, string>){\n  if(!style.width){\n    return\n  }\n  let [, width, unit] = style.width.split(/([\\d\\.]+)/);\n  if(unit === '%'){\n    return\n  }\n  Object.keys(style).forEach(key => {\n    if(isBorderRadius(key)){\n      style[key] = getBorderRadius(style[key], {width, unit})\n    }\n  })\n}\n\n/**\n * 计算百分比对应的宽度\n */\nfunction getBorderRadius(value:string, {width,unit}:any){\n  let [, bPercent, bUnit] = value.split(/([\\d\\.]+)/);\n  if(bUnit === '%'){\n    return (width * parseFloat(bPercent) / 100).toFixed(2) + unit\n  }\n  return value\n}","export const CLIP_LIST = [\n    'border-box',\n    'padding-box',\n    'content-box',\n    'text'\n]\n\nexport const REPEAT_LIST = [\n    'repeat-x',\n    'repeat-y',\n    'repeat',\n    'space',\n    'round',\n    'no-repeat'\n]\n\nexport const SIZE_LIST = [\n    'contain',\n    'cover'\n]","import { getColor, COLOR_MAP } from '../common/color'\nimport { CLIP_LIST, REPEAT_LIST, SIZE_LIST } from '../common/background'\nimport {hexify} from './unit'\n/**\n * 转换Background Image\n * @param style 待转换的Style值\n */\n\nconst isUrl = /url\\((?:\"|')/\nconst isImageBase64Reg = /url\\(data:/\nconst isLinearGradient =  /linear\\-gradient/\n\nconst imageUrlReg = /url\\((?:\"|')?([\\w\\W]+)(?:\"|')\\)/\nconst imageBase64Reg = /url\\(([\\w\\W]+)\\)/\nconst linearReg = /linear\\-gradient\\(([\\w\\W]+)\\)/\nexport function transformBackground(style:Record<string, string>){\n  let tempStyle:Record<string, string> = {\n    ...style\n  }\n  if(tempStyle['background-image']){\n    let value = tempStyle['background-image']\n    if(isLinearGradient.test(value.trim())){\n      delete tempStyle['background-image']\n      let matches = value.match(linearReg)\n      let linearValue = matches && matches[1] || ''\n      tempStyle['background-color'] = 'linear-gradient(' + transformLinear(linearValue) + ')'\n    } else{\n      tempStyle['background-image'] = transformBackgroundImage(value)\n    }\n  }\n  if(tempStyle['background']){\n    const value = tempStyle['background']\n    delete tempStyle['background']\n    tempStyle = {\n      ...splitBackground(value),\n      ...tempStyle\n    }\n  }\n  return tempStyle\n}\n\n/**\n *  background拆分\n *  background-color: red|#fff|rgb(0,0,0)|rgba(0,0,0,0)\n *  background-image: url()\n *  background-clip: border-box|padding-box|content-box|text\n *  background-repeat: no-repeat 单值语法\n *  background-size: cover|contain 关键字\n */\n\nfunction splitBackground(value:string):any {\n  let newBackgroundMap:Record<string, string> = {}\n  // color\n  const colorKeys = Object.keys(COLOR_MAP).join('|')\n  const color = '(#\\\\w{3,8})|(rgba?\\\\(.+\\\\))'\n  const isColor = new RegExp(`(${color}|${colorKeys})`)\n  if (isColor.test(value)) {\n    // background-color\n    const match = isColor.exec(value)\n    if (match) {\n      newBackgroundMap['background-color'] = match[0]\n    }\n  }\n\n  // image\n  if (isUrl.test(value)) {\n    const urlMatch = /url\\(.+\\)/\n    const match = urlMatch.exec(value)\n    let backgorundImage = match && match[0]\n    if (backgorundImage) {\n      newBackgroundMap['background-image'] = transformBackgroundImage(backgorundImage)\n    }\n  }\n\n  // clip\n  const clipMatch = matchKeyList(CLIP_LIST, value)\n  if (clipMatch) {\n    newBackgroundMap['backgrond-clip'] = clipMatch\n  }\n\n  // repeat\n  const repeatMatch = matchKeyList(REPEAT_LIST, value)\n  if (repeatMatch) {\n    newBackgroundMap['background-repeat'] = repeatMatch\n  }\n\n  // size关键字\n  const sizeMatch = matchKeyList(SIZE_LIST, value)\n  if (sizeMatch) {\n    newBackgroundMap['background-size'] = sizeMatch\n  }\n\n  return newBackgroundMap\n}\n\nfunction matchKeyList(list:string[], value:string):string {\n  const matchList = list.join('|')\n  const isList = new RegExp(matchList)\n  if (isList.test(value)) {\n    const match = isList.exec(value)\n    if (match) {\n      return match[0]\n    }\n  }\n  return ''\n}\n\n// TODO: 处理BackgroundImage渐变的情况\nfunction transformBackgroundImage(value:string):string{\n  let backgroundImage = value.trim()\n  if(isUrl.test(backgroundImage)){\n    let matches = backgroundImage.match(imageUrlReg)\n    return (matches && matches[1]) || ''\n  }else if(isImageBase64Reg.test(backgroundImage)){\n    let matches = backgroundImage.match(imageBase64Reg)\n    return (matches && matches[1]) || ''\n  }\n  return ''\n}\nfunction transformLinear (value:string){\n  let backgroundLinear = value.replace(/\\s+/g,'')\n  let isRgba = /rgba?/\n  let rgbaReg = /rgba\\(\\d+,\\d+,\\d+,[\\d\\.]+\\)/g\n  if(isRgba.test(backgroundLinear)){\n    let matcheList = backgroundLinear.match(rgbaReg)\n    for(let item in matcheList){\n      backgroundLinear = backgroundLinear.replace(matcheList[parseInt(item)],hexify(matcheList[parseInt(item)]))\n    }\n  }\n  backgroundLinear = backgroundLinear.split(',').map(res => getColor(res)).join(' ')\n  return backgroundLinear\n}","import {Style, isNumber} from '../common/utils'\n/**\n * 转换Flex Attribute\n * @param style 待转换的Style值\n */\nexport function transformFlex(style:Record<string, string>){\n  let tempStyle:Style = {\n    ...style\n  }\n  if(tempStyle['flex']){\n    let value = tempStyle['flex']\n    delete tempStyle['flex']\n    tempStyle = {\n      ...defaultFlexStyle,\n      ...transformFlexStyle(value + \"\"),\n      ...tempStyle\n    }\n  }\n  return tempStyle\n}\n\n/**\n * 默认的 Flex Style\n */\nexport const defaultFlexStyle = {\n  \"flex-grow\": 0,\n  \"flex-shrink\": 0,\n  \"flex-basis\": 'auto'\n}\n\n/**\n * 支持 Flex缩写\n * Flex 语法对齐 Web Flex的实现，具体参考文档：https://developer.mozilla.org/en-US/docs/Web/CSS/flex\n * @param flexStyle \n * @returns \n */\nfunction transformFlexStyle(flexStyleValue: string):Style{\n  let tempStyle:Style = {}\n  let values = flexStyleValue.trim().split(/\\s+/)\n  switch(values.length){\n    case 1:\n      tempStyle = handleFlexStyleBy1(values);\n      break;\n    case 2:\n      tempStyle = handleFlexStyleBy2(values);\n      break;\n    case 3:\n      tempStyle = handleFlexStyleBy3(values);\n      break;\n    default:\n      break;\n  }\n  return tempStyle\n}\n\n/**\n * \n * One-value syntax:\n * - a <number>: In this case it is interpreted as flex: <number> 1 0; the <flex-shrink> value is assumed to be 1 and the <flex-basis> value is assumed to be 0.\none of the keywords: none, auto, or initial.\n * - one of the keywords: none, auto, or initial.\n * @param values []\n * @returns Style\n */\nfunction handleFlexStyleBy1(values: Array<string>):Style{\n  let value = values[0];\n  let tempStyle:Style = {};\n  if(isNaN(parseInt(value))){\n    tempStyle[\"flex-basis\"] = value\n  }else{\n    if(value === \"0\"){\n      tempStyle[\"flex-basis\"] = 0\n    }else{\n      tempStyle[\"flex-grow\"] = Number(value)\n      tempStyle[\"flex-shrink\"] = Number(value)\n    }\n  }\n  return tempStyle\n}\n\n/**\n * \n * Two-value syntax:\n * - The first value must be:\n *   - a <number> and it is interpreted as <flex-grow>.\n * - The second value must be one of:\n *   - a <number>: then it is interpreted as <flex-shrink>.\n *   - a valid value for width: then it is interpreted as <flex-basis>.\n * @param values []\n * @returns Style\n */\nfunction handleFlexStyleBy2(values: Array<string>):Style{\n  let tempStyle:Style = {};\n  let [firstValue, secondValue] = values; \n  if(firstValue){\n    tempStyle[\"flex-grow\"] = firstValue;\n  }\n  if(secondValue){\n    if(isNumber(secondValue)){\n      tempStyle[\"flex-shrink\"] = Number(secondValue);\n    }else{\n      tempStyle[\"flex-basis\"] = secondValue;\n    }\n  }\n  return tempStyle\n}\n\n/**\n * \n * Three-value syntax: the values must be in the following order:\n * 1.a <number> for <flex-grow>.\n * 2.a <number> for <flex-shrink>.\n * 3.a valid value for width for <flex-basis>.\n * @param values []\n * @returns Style\n */\nfunction handleFlexStyleBy3(values: Array<string>):Style{\n  let [firstValue, secondValue, thirdValue] = values; \n  return {\n    \"flex-grow\": firstValue,\n    \"flex-shrink\": secondValue,\n    \"flex-basis\": thirdValue\n  }\n}\n","/**\n * css transform 转换\n * transform: rotateX(120deg) scale(0.5) =>  transform: 'rotateX(120),scale(0.5)'\n*/\nimport { transformUnitValue } from './unit'\n\nexport function transformTransform(style:Record<string, string>){\n  let tempStyle:Record<string, string> = {\n    ...style\n  }\n  if(tempStyle['transform']){\n    let value = tempStyle['transform']\n    tempStyle = {\n      ...tempStyle,\n      ...splitToArray(transTranslateUnit(replaceDeg(value)))\n    }\n  }\n  return tempStyle\n}\n\nfunction splitToArray(params: string) {\n  return {\n    transform: params.trim().split(/\\s+/g).join(',')\n  }\n}\n\nfunction replaceDeg(str: string) {\n  return str.replace(/deg/g, '')\n}\n\nfunction transTranslateUnit(str: string) {\n  let arr = (str.replace(/\\s/g, '').match(/[a-zA-Z0-9]+\\(.+?\\)/g)) || [];\n  arr.map((item, index) => {\n    if (item.indexOf('translate')> -1 || item.indexOf('position')> -1) {\n      // translate(100非标准hummer单位, 100非标准hummer单位) => translate(100标准hummer单位, 100标准hummer单位)\n      // translate(100非标准hummer单位) => translate(100标准hummer单位)\n      // 获取数值\n      let temp = item.match(/[^(][a-zA-Z0-9,]+(?=\\))/g)\n      let key =  item.split('(')[0]\n      let value = temp?temp[0]:'0'\n      value = value.split(',').map(v => transformUnitValue(v)).join(',')\n      arr[index] = `${key}(${value})`\n    }\n  });\n  return arr.join(' ')\n}","/* Apply to 1 property */\n/* property name | duration */\n// transition: margin-right 4s; => transition: 'margin-right 4 ease 0'\n\n// import { values } from \"puppeteer/DeviceDescriptors\"\n\n/* property name | duration | delay */\n// transition: margin-right 4s 1s; => transition: 'margin-right 4 ease 1'\n\n/* property name | duration | timing function */\n// transition: margin-right 4s ease-in-out; => transition: 'margin-right 4 ease-in-out 0'\n\n/* property name | duration | timing function | delay */\n// transition: margin-right 4s ease-in-out 1s; => transition: 'margin-right 4 ease-in-out 1'\n\n/* Apply to 2 properties */\n// transition: margin-right 4s, color 1s;\n\n/* Apply to all changed properties */\n// transition: all 0.5s ease-out;\nconst transitionFullProperty = ['transition-delay', 'transition-duration', 'transition-property', 'transition-timing-function']\n\nexport function transformTransition(style: Record<string, string>) {\n  let tempStyle: Record<string, string> = {\n    ...style\n  }\n  transitionFullProperty.forEach(property => {\n    if(tempStyle[property]) {\n      let value = tempStyle[property]\n      tempStyle = {\n        ...getHummerProp(property, value),\n        ...tempStyle\n      }\n      delete tempStyle[property]\n    }\n  });\n  if (tempStyle['transition']) {\n    let value = tempStyle['transition']\n    tempStyle = {\n      ...splitToFullProps(value),\n      ...tempStyle\n    }\n    delete tempStyle['transition']\n  }\n  return tempStyle\n}\n\nfunction getHummerProp(property: string, value: string) {\n  let obj: Record<string, string> = {}\n  obj[property] = isTime(value)? value.replace('s', ''): value\n  return obj\n}\n\nfunction splitToFullProps(params: string) {\n  let transitionPropertyArray: Array<string> = []\n  let transitionDurationArray: Array<string> = []\n  let transitionTimingFunctionArray: Array<string> = []\n  let transitionDelayArray: Array<string> = []\n\n  let transitionArray = params.split(',')\n  transitionArray.forEach(transition => {\n    let transitonValues = transition.trim().split(/\\s+/g)\n    transitonValues = getFullValues(transitonValues)\n    transitionPropertyArray.push(transitonValues[0])\n    transitionDurationArray.push(transitonValues[1].replace('s', ''))\n    transitionTimingFunctionArray.push(transitonValues[2])\n    transitionDelayArray.push(transitonValues[3].replace('s', ''))\n  });\n  return {\n    'transition-property': transitionPropertyArray.join(','),\n    'transition-duration': transitionDurationArray.join(','),\n    'transition-timing-function': transitionTimingFunctionArray[0],\n    'transition-delay': transitionDelayArray[0]\n  }\n\n}\n\nfunction getFullValues(transitonValues: Array<string>) {\n  let tempArray = []\n  tempArray = [...transitonValues]\n  if (transitonValues.length === 2) {\n    tempArray = [...transitonValues, 'ease', '0s']\n  } else if (transitonValues.length === 3) {\n    if (isTime(transitonValues[2])) {\n      tempArray = [transitonValues[0], transitonValues[1], 'ease', transitonValues[2]]\n    } else {\n      tempArray = [...transitonValues, '0s']\n    }\n  }\n  return tempArray\n}\n\nfunction isTime(str: string) {\n  return /^\\d*[s]$/.test(str)\n}","export const NODE_VIEW = Symbol('NODE_VIEW')\nexport const NODE_TEXT = Symbol('NODE_TEXT')\nexport const NODE_IMAGE = Symbol('NODE_IMAGE')\nexport const NODE_BUTTON = Symbol('NODE_BUTTON')\nexport const NODE_TEXTAREA = Symbol('NODE_TEXTAREA')\nexport const NODE_INPUT = Symbol('NODE_INPUT')\nexport const NODE_SWITCH = Symbol('NODE_SWITCH')\nexport const NODE_SCROLLER = Symbol('NODE_SCROLLER')\nexport const NODE_VIEW_PAGER = Symbol('NODE_VIEW_PAGER')\nexport const NODE_LIST = Symbol('NODE_LIST')\nexport const NODE_DIALOG = Symbol('NODE_DIALOG')\nexport const NODE_ANIMATION_VIEW = Symbol('NODE_ANIMATION_VIEW')\nexport const NODE_COMMENT = Symbol('NODE_COMMENT')\nexport const NODE_ANCHOR = Symbol('NODE_ANCHOR')\nexport const NODE_REFRESH = Symbol('NODE_REFRESH')\nexport const NODE_LOADMORE = Symbol('NODE_LOADMORE')\n\n\n/**\n * 通用组件枚举\n */\nexport const ELEMNT_TAG_MAP = {\n  [NODE_VIEW]: 'view',\n  [NODE_TEXT]: 'text',\n  [NODE_IMAGE]: 'image',\n  [NODE_BUTTON]: 'button',\n  [NODE_TEXTAREA]: 'textarea',\n  [NODE_INPUT]: 'input',\n  [NODE_SWITCH]: 'switch',\n  [NODE_SCROLLER]: 'scroller',\n  [NODE_VIEW_PAGER]: 'viewpager',\n  [NODE_LIST]: 'list',\n  [NODE_DIALOG]: 'dialog',\n  [NODE_ANIMATION_VIEW]: 'animation',\n  [NODE_ANCHOR]: 'anchor',\n  [NODE_REFRESH]: 'refresh',\n  [NODE_LOADMORE]: 'loadmore'\n}","/**\n * 属性适配，特定场景下增加属性值\n * @param style 待转换的Style值\n * @param view 组件\n */\nimport {NODE_IMAGE} from '../../components/types'\nimport {makeMap} from '../../utils'\n\nconst borderRadius = 'borderRadius,borderTopLeftRadius,borderTopRightRadius,borderBottomLeftRadius,borderBottomRightRadius'\nconst isBorderRadius = makeMap(borderRadius)\n\nexport function dynamicTransformAdapter(style:Record<string, string>, view:any){\n  let tempStyle:Record<string, string> = {}\n  tempStyle = hackForBorderRadius(view, style);\n  return tempStyle\n}\n\n// HACK: 针对IOS中Image标签，需要添加Overflow实现圆角效果\nfunction hackForBorderRadius(view:any, style:Record<string, string>){\n  if(view && view.__NAME === NODE_IMAGE && hasSpecialAttr(style, isBorderRadius)){\n    style['overflow'] = 'hidden';\n  }\n  return style\n}\n\n/**\n * 判断对象中是否包含样式中任一属性\n */\nfunction hasSpecialAttr(obj: Object, func:Function){\n  return Object.keys(obj).some(key => {\n    return func(key)\n  })\n}\n","import {transformAttr} from './transformer/attrname'\nimport {transformColor} from './transformer/color'\nimport {transformUnit} from './transformer/unit'\nimport {transformBreakToken} from './transformer/break-token'\nimport {transformBorder} from './transformer/border'\nimport {transformShadow} from './transformer/shadow'\nimport {transformAdapter} from './transformer/adapter'\nimport {transformBackground} from './transformer/background'\nimport {transformFlex} from './transformer/flex'\nimport {transformTransform} from './transformer/transform'\nimport {transformTransition} from './transformer/transition'\n\nimport {dynamicTransformAdapter} from './dynamic-transformer/adapter'\n\nclass StyleTransformer{\n\n  private middlewares: Array<Function> = []\n  constructor(){\n    this.registerMiddleware()\n  }\n\n  registerMiddleware(){\n    this\n    .use(transformAdapter)\n    .use(transformBreakToken)\n    .use(transformBackground)\n    .use(transformTransform)\n    .use(transformTransition)\n    .use(transformFlex)\n    .use(transformBorder)\n    .use(transformShadow)\n    .use(transformColor)\n    .use(transformUnit)\n    .use(transformAttr)\n  }\n\n  use(middleware: Function){\n    if(typeof middleware !== 'function'){\n      throw \"middleware must be a function\"\n    }\n    this.middlewares.push(middleware)\n    return this\n  }\n\n  transformStyle(style:Record<string, string> = {}, view?:any):Record<string, string>|null{\n    let tempStyle = style\n    this.middlewares.forEach(middleware => {\n      let result = middleware(tempStyle, view)\n      tempStyle = result? result: tempStyle\n    })\n    return tempStyle\n  }\n\n}\nclass StyleDynamicTransformer{\n\n  private middlewares: Array<Function> = []\n  constructor(){\n    this.registerMiddleware()\n  }\n\n  registerMiddleware(){\n    this\n    .use(dynamicTransformAdapter)\n  }\n\n  use(middleware: Function){\n    if(typeof middleware !== 'function'){\n      throw \"middleware must be a function\"\n    }\n    this.middlewares.push(middleware)\n    return this\n  }\n\n  transformStyle(style:Record<string, string> = {}, view?:any):Record<string, string>|null{\n    let tempStyle = style\n    this.middlewares.forEach(middleware => {\n      let result = middleware(tempStyle, view)\n      tempStyle = result? result: tempStyle\n    })\n    return tempStyle\n  }\n\n}\n\nexport const styleTransformer = new StyleTransformer()\nexport const styleDynamicTransformer = new StyleDynamicTransformer()\n\nexport {transformUnitValue} from './transformer/unit'\nexport {getColor} from './common/color'","import {makeMap} from '../utils'\nconst isNativeTagReg = /^ex-/\n\nexport const NativeTags = \"view,text,image,input,textarea,button,scroller,switch,refresh,loadmore,list,viewpager\"\nexport const isNativeTags = makeMap(NativeTags)\nexport const isCustomNativeTag = (tag:string) => {\n  return isNativeTagReg.test(tag)\n}\n\nexport * from './types'","export const extend = Object.assign\nexport * from './normalizeProp'\nexport * from './style'\nexport * from './utils'\nexport * from './components'"],"names":["rgbaReg","attrs","borderRadius","isBorderRadius","hackForBorderRadius","hasSpecialAttr"],"mappings":"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"}