{"version":3,"file":"tenon-store.cjs.js","sources":["../src/injectKey.ts","../src/util.ts","../src/module/module.ts","../src/module/module-collection.ts","../src/store.ts","../src/helpers.ts","../src/plugins/logger.ts","../src/plugins/utils/types.ts","../src/plugins/utils/index.ts","../src/plugins/hummer.ts","../src/index.ts"],"sourcesContent":["import { inject } from '@hummer/tenon-vue'\n\nexport const storeKey = 'store'\n\nexport function useStore (key?:string) {\n  return inject(key || storeKey)\n}\n","/**\n * Get the first item that pass the test\n * by second argument function\n *\n * @param {Array} list\n * @param {Function} f\n * @return {*}\n */\nexport function find (list:Array<any>, f:any) {\n  return list.filter(f)[0]\n}\n\n/**\n * Deep copy the given object considering circular structure.\n * This function caches all nested objects and its copies.\n * If it detects circular structure, use cached copy to avoid infinite loop.\n *\n * @param {*} obj\n * @param {Array<Object>} cache\n * @return {*}\n */\nexport function deepCopy (obj:any, cache:any = []) {\n  // just return if obj is immutable value\n  if (obj === null || typeof obj !== 'object') {\n    return obj\n  }\n\n  // if obj is hit, it is in circular structure\n  const hit = find(cache, (c:any) => c.original === obj)\n  if (hit) {\n    return hit.copy\n  }\n\n  const copy:any = Array.isArray(obj) ? [] : {}\n  // put the copy into cache at first\n  // because we want to refer it in recursive deepCopy\n  cache.push({\n    original: obj,\n    copy\n  })\n\n  Object.keys(obj).forEach(key => {\n    copy[key] = deepCopy(obj[key], cache)\n  })\n\n  return copy\n}\n\n/**\n * forEach for object\n */\nexport function forEachValue (obj:any, fn:Function) {\n  Object.keys(obj).forEach(key => fn(obj[key], key))\n}\n\nexport function isObject (obj:any) {\n  return obj !== null && typeof obj === 'object'\n}\n\nexport function isPromise (val:any) {\n  return val && typeof val.then === 'function'\n}\n\nexport function assert (condition:any, msg:string) {\n  if (!condition) throw new Error(`[vuex] ${msg}`)\n}\n\nexport function partial (fn:any, arg:string) {\n  return function () {\n    return fn(arg)\n  }\n}\n\n","import { forEachValue } from '../util'\n\n// Base data struct for store's module, package with some attribute and method\nexport default class Module {\n  public runtime:any\n  public _children:any\n  public _rawModule:any\n  public state:any\n  constructor (rawModule:any, runtime:any) {\n    this.runtime = runtime\n    // Store some children item\n    this._children = Object.create(null)\n    // Store the origin module object which passed by programmer\n    this._rawModule = rawModule\n    const rawState = rawModule.state\n\n    // Store the origin module's state\n    this.state = (typeof rawState === 'function' ? rawState() : rawState) || {}\n  }\n\n  get namespaced () {\n    return !!this._rawModule.namespaced\n  }\n\n  addChild (key:any, module:any) {\n    this._children[key] = module\n  }\n\n  removeChild (key:any) {\n    delete this._children[key]\n  }\n\n  getChild (key:any) {\n    return this._children[key]\n  }\n\n  hasChild (key:any) {\n    return key in this._children\n  }\n\n  update (rawModule:any) {\n    this._rawModule.namespaced = rawModule.namespaced\n    if (rawModule.actions) {\n      this._rawModule.actions = rawModule.actions\n    }\n    if (rawModule.mutations) {\n      this._rawModule.mutations = rawModule.mutations\n    }\n    if (rawModule.getters) {\n      this._rawModule.getters = rawModule.getters\n    }\n  }\n\n  forEachChild (fn:Function) {\n    forEachValue(this._children, fn)\n  }\n\n  forEachGetter (fn:Function) {\n    if (this._rawModule.getters) {\n      forEachValue(this._rawModule.getters, fn)\n    }\n  }\n\n  forEachAction (fn:Function) {\n    if (this._rawModule.actions) {\n      forEachValue(this._rawModule.actions, fn)\n    }\n  }\n\n  forEachMutation (fn:Function) {\n    if (this._rawModule.mutations) {\n      forEachValue(this._rawModule.mutations, fn)\n    }\n  }\n}\n","import Module from './module'\nimport { assert, forEachValue } from '../util'\n\nexport default class ModuleCollection {\n  public root:any\n  constructor (rawRootModule:any) {\n    // register root module (Vuex.Store options)\n    this.register([], rawRootModule, false)\n  }\n\n  get (path:any) {\n    return path.reduce((module:any, key:string) => {\n      return module.getChild(key)\n    }, this.root)\n  }\n\n  getNamespace (path:any) {\n    let module = this.root\n    return path.reduce((namespace:any, key:any) => {\n      module = module.getChild(key)\n      return namespace + (module.namespaced ? key + '/' : '')\n    }, '')\n  }\n\n  update (rawRootModule:any) {\n    update([], this.root, rawRootModule)\n  }\n\n  register (path:any, rawModule:any, runtime = true) {\n    if (__DEV__) {\n      assertRawModule(path, rawModule)\n    }\n\n    const newModule = new Module(rawModule, runtime)\n    if (path.length === 0) {\n      this.root = newModule\n    } else {\n      const parent = this.get(path.slice(0, -1))\n      parent.addChild(path[path.length - 1], newModule)\n    }\n\n    // register nested modules\n    if (rawModule.modules) {\n      forEachValue(rawModule.modules, (rawChildModule:any, key:any) => {\n        this.register(path.concat(key), rawChildModule, runtime)\n      })\n    }\n  }\n\n  unregister (path:any) {\n    const parent = this.get(path.slice(0, -1))\n    const key = path[path.length - 1]\n    const child = parent.getChild(key)\n\n    if (!child) {\n      if (__DEV__) {\n        console.warn(\n          `[vuex] trying to unregister module '${key}', which is ` +\n          `not registered`\n        )\n      }\n      return\n    }\n\n    if (!child.runtime) {\n      return\n    }\n\n    parent.removeChild(key)\n  }\n\n  isRegistered (path:any) {\n    const parent = this.get(path.slice(0, -1))\n    const key = path[path.length - 1]\n\n    return parent.hasChild(key)\n  }\n}\n\nfunction update (path:any, targetModule:any, newModule:any) {\n  if (__DEV__) {\n    assertRawModule(path, newModule)\n  }\n\n  // update target module\n  targetModule.update(newModule)\n\n  // update nested modules\n  if (newModule.modules) {\n    for (const key in newModule.modules) {\n      if (!targetModule.getChild(key)) {\n        if (__DEV__) {\n          console.warn(\n            `[vuex] trying to add a new module '${key}' on hot reloading, ` +\n            'manual reload is needed'\n          )\n        }\n        return\n      }\n      update(\n        path.concat(key),\n        targetModule.getChild(key),\n        newModule.modules[key]\n      )\n    }\n  }\n}\n\nconst functionAssert = {\n  assert: (value:any) => typeof value === 'function',\n  expected: 'function'\n}\n\nconst objectAssert = {\n  assert: (value:any) => typeof value === 'function' ||\n    (typeof value === 'object' && typeof value.handler === 'function'),\n  expected: 'function or object with \"handler\" function'\n}\n\nconst assertTypes:any = {\n  getters: functionAssert,\n  mutations: functionAssert,\n  actions: objectAssert\n}\n\nfunction assertRawModule (path:any, rawModule:any) {\n  Object.keys(assertTypes).forEach(key => {\n    if (!rawModule[key]) return\n\n    const assertOptions = assertTypes[key]\n\n    forEachValue(rawModule[key], (value:any, type:any) => {\n      assert(\n        assertOptions.assert(value),\n        makeAssertionMessage(path, key, type, value, assertOptions.expected)\n      )\n    })\n  })\n}\n\nfunction makeAssertionMessage (path:any, key:any, type:any, value:any, expected:any) {\n  let buf = `${key} should be ${expected} but \"${key}.${type}\"`\n  if (path.length > 0) {\n    buf += ` in module \"${path.join('.')}\"`\n  }\n  buf += ` is ${JSON.stringify(value)}.`\n  return buf\n}\n","import { reactive, computed, watch } from '@hummer/tenon-vue'\nimport { storeKey } from './injectKey'\nimport ModuleCollection from './module/module-collection'\nimport { forEachValue, isObject, isPromise, assert, partial } from './util'\n\ninterface StoreOptions{\n  plugins?: Array<any>,\n  strict?: Boolean\n}\nexport function createStore (options:StoreOptions) {\n  return new Store(options)\n}\n\nexport class Store {\n  private _committing:Boolean\n  private _actions:any\n  private _actionSubscribers:Array<any>\n  private _mutations:any\n  public _wrappedGetters:any\n  private _modules:any\n  public _modulesNamespaceMap:any\n  private _subscribers:any\n  public _makeLocalGettersCache:any\n  public strict: Boolean\n  private _state: any\n  public getters: any\n  constructor (options:StoreOptions = {}) {\n    const {\n      plugins = [],\n      strict = false\n    } = options\n\n    // store internal state\n    this._committing = false\n    this._actions = Object.create(null)\n    this._actionSubscribers = []\n    this._mutations = Object.create(null)\n    this._wrappedGetters = Object.create(null)\n    this._modules = new ModuleCollection(options)\n    this._modulesNamespaceMap = Object.create(null)\n    this._subscribers = []\n    this._makeLocalGettersCache = Object.create(null)\n    // bind commit and dispatch to self\n    const store = this\n    const { dispatch, commit } = this\n    this.dispatch = function boundDispatch (type, payload) {\n      return dispatch.call(store, type, payload)\n    }\n    this.commit = function boundCommit (type, payload, options) {\n      return commit.call(store, type, payload, options)\n    }\n\n    // strict mode\n    this.strict = strict\n\n    const state = this._modules.root.state\n\n    // init root module.\n    // this also recursively registers all sub-modules\n    // and collects all module getters inside this._wrappedGetters\n    installModule(this, state, [], this._modules.root)\n\n    // initialize the store state, which is responsible for the reactivity\n    // (also registers _wrappedGetters as computed properties)\n    resetStoreState(this, state)\n\n    plugins.forEach(plugin => plugin(this))\n  }\n\n  install (app:any, injectKey:string) {\n    app.provide(injectKey || storeKey, this)\n    app.config.globalProperties.$store = this\n  }\n\n  get state () {\n    return this._state.data\n  }\n\n  set state (v) {\n    if (__DEV__) {\n      assert(false, `use store.replaceState() to explicit replace store state.`)\n    }\n  }\n\n  commit (_type:any, _payload:any, _options:any) {\n    // check object-style commit\n    const {\n      type,\n      payload,\n      options\n    } = unifyObjectStyle(_type, _payload, _options)\n\n    const mutation = { type, payload }\n    const entry = this._mutations[type]\n    if (!entry) {\n      if (__DEV__) {\n        console.error(`[vuex] unknown mutation type: ${type}`)\n      }\n      return\n    }\n    this._withCommit(() => {\n      entry.forEach(function commitIterator (handler:Function) {\n        handler(payload)\n      })\n    })\n\n    this._subscribers\n      .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe\n      .forEach((sub:Function) => sub(mutation, this.state))\n\n    if (\n      __DEV__ &&\n      options && options.silent\n    ) {\n      console.warn(\n        `[vuex] mutation type: ${type}. Silent option has been removed. ` +\n        'Use the filter functionality in the vue-devtools'\n      )\n    }\n  }\n\n  dispatch (_type:any, _payload:any) {\n    // check object-style dispatch\n    const {\n      type,\n      payload\n    } = unifyObjectStyle(_type, _payload)\n\n    const action = { type, payload }\n    const entry = this._actions[type]\n    if (!entry) {\n      if (__DEV__) {\n        console.error(`[vuex] unknown action type: ${type}`)\n      }\n      return\n    }\n\n    try {\n      this._actionSubscribers\n        .slice() // shallow copy to prevent iterator invalidation if subscriber synchronously calls unsubscribe\n        .filter(sub => sub.before)\n        .forEach(sub => sub.before(action, this.state))\n    } catch (e) {\n      if (__DEV__) {\n        console.warn(`[vuex] error in before action subscribers: `)\n        console.error(e)\n      }\n    }\n\n    const result = entry.length > 1\n      ? Promise.all(entry.map((handler:Function) => handler(payload)))\n      : entry[0](payload)\n\n    return new Promise((resolve, reject) => {\n      result.then((res:any) => {\n        try {\n          this._actionSubscribers\n            .filter(sub => sub.after)\n            .forEach(sub => sub.after(action, this.state))\n        } catch (e) {\n          if (__DEV__) {\n            console.warn(`[vuex] error in after action subscribers: `)\n            console.error(e)\n          }\n        }\n        resolve(res)\n      }, (error:any) => {\n        try {\n          this._actionSubscribers\n            .filter(sub => sub.error)\n            .forEach(sub => sub.error(action, this.state, error))\n        } catch (e) {\n          if (__DEV__) {\n            console.warn(`[vuex] error in error action subscribers: `)\n            console.error(e)\n          }\n        }\n        reject(error)\n      })\n    })\n  }\n\n  subscribe (fn:any, options:any) {\n    return genericSubscribe(fn, this._subscribers, options)\n  }\n\n  subscribeAction (fn:any, options:any) {\n    const subs = typeof fn === 'function' ? { before: fn } : fn\n    return genericSubscribe(subs, this._actionSubscribers, options)\n  }\n\n  watch (getter:any, cb:any, options:any) {\n    if (__DEV__) {\n      assert(typeof getter === 'function', `store.watch only accepts a function.`)\n    }\n    return watch(() => getter(this.state, this.getters), cb, Object.assign({}, options))\n  }\n\n  replaceState (state:any) {\n    this._withCommit(() => {\n      console.log('replace State:', JSON.stringify(state))\n      this._state.data = state\n    })\n  }\n\n  registerModule (path:any, rawModule:any, options:any = {}) {\n    if (typeof path === 'string') path = [path]\n\n    if (__DEV__) {\n      assert(Array.isArray(path), `module path must be a string or an Array.`)\n      assert(path.length > 0, 'cannot register the root module by using registerModule.')\n    }\n\n    this._modules.register(path, rawModule)\n    installModule(this, this.state, path, this._modules.get(path), options.preserveState)\n    // reset store to update getters...\n    resetStoreState(this, this.state)\n  }\n\n  unregisterModule (path:any) {\n    if (typeof path === 'string') path = [path]\n\n    if (__DEV__) {\n      assert(Array.isArray(path), `module path must be a string or an Array.`)\n    }\n\n    this._modules.unregister(path)\n    this._withCommit(() => {\n      const parentState = getNestedState(this.state, path.slice(0, -1))\n      delete parentState[path[path.length - 1]]\n    })\n    resetStore(this)\n  }\n\n  hasModule (path:any) {\n    if (typeof path === 'string') path = [path]\n\n    if (__DEV__) {\n      assert(Array.isArray(path), `module path must be a string or an Array.`)\n    }\n\n    return this._modules.isRegistered(path)\n  }\n\n  hotUpdate (newOptions:any) {\n    this._modules.update(newOptions)\n    resetStore(this, true)\n  }\n\n  _withCommit (fn:Function) {\n    const committing = this._committing\n    this._committing = true\n    fn()\n    this._committing = committing\n  }\n}\n\nfunction genericSubscribe (fn:Function, subs:any, options?:any) {\n  if (subs.indexOf(fn) < 0) {\n    options && options.prepend\n      ? subs.unshift(fn)\n      : subs.push(fn)\n  }\n  return () => {\n    const i = subs.indexOf(fn)\n    if (i > -1) {\n      subs.splice(i, 1)\n    }\n  }\n}\n\nfunction resetStore (store:any, hot?:any) {\n  store._actions = Object.create(null)\n  store._mutations = Object.create(null)\n  store._wrappedGetters = Object.create(null)\n  store._modulesNamespaceMap = Object.create(null)\n  const state = store.state\n  // init all modules\n  installModule(store, state, [], store._modules.root, true)\n  // reset state\n  resetStoreState(store, state, hot)\n}\n\nfunction resetStoreState (store:any, state:any, hot?:any) {\n  const oldState = store._state\n\n  // bind store public getters\n  store.getters = {}\n  // reset local getters cache\n  store._makeLocalGettersCache = Object.create(null)\n  const wrappedGetters = store._wrappedGetters\n  const computedObj:any = {}\n  forEachValue(wrappedGetters, (fn:any, key:any) => {\n    // use computed to leverage its lazy-caching mechanism\n    // direct inline function use will lead to closure preserving oldVm.\n    // using partial to return function with only arguments preserved in closure environment.\n    computedObj[key] = partial(fn, store)\n    Object.defineProperty(store.getters, key, {\n      get: () => computed(() => computedObj[key]()).value,\n      enumerable: true // for local getters\n    })\n  })\n\n  store._state = reactive({\n    data: state\n  })\n\n  // enable strict mode for new state\n  if (store.strict) {\n    enableStrictMode(store)\n  }\n\n  if (oldState) {\n    if (hot) {\n      // dispatch changes in all subscribed watchers\n      // to force getter re-evaluation for hot reloading.\n      store._withCommit(() => {\n        oldState.data = null\n      })\n    }\n  }\n}\n\nfunction installModule (store:any, rootState:any, path:any, module:any, hot?:any) {\n  const isRoot = !path.length\n  const namespace = store._modules.getNamespace(path)\n\n  // register in namespace map\n  if (module.namespaced) {\n    if (store._modulesNamespaceMap[namespace] && __DEV__) {\n      console.error(`[vuex] duplicate namespace ${namespace} for the namespaced module ${path.join('/')}`)\n    }\n    store._modulesNamespaceMap[namespace] = module\n  }\n\n  // set state\n  if (!isRoot && !hot) {\n    const parentState = getNestedState(rootState, path.slice(0, -1))\n    const moduleName = path[path.length - 1]\n    store._withCommit(() => {\n      if (__DEV__) {\n        if (moduleName in parentState) {\n          console.warn(\n            `[vuex] state field \"${moduleName}\" was overridden by a module with the same name at \"${path.join('.')}\"`\n          )\n        }\n      }\n      parentState[moduleName] = module.state\n    })\n  }\n\n  const local = module.context = makeLocalContext(store, namespace, path)\n\n  module.forEachMutation((mutation:any, key:any) => {\n    const namespacedType = namespace + key\n    registerMutation(store, namespacedType, mutation, local)\n  })\n\n  module.forEachAction((action:any, key:any) => {\n    const type = action.root ? key : namespace + key\n    const handler = action.handler || action\n    registerAction(store, type, handler, local)\n  })\n\n  module.forEachGetter((getter:any, key:any) => {\n    const namespacedType = namespace + key\n    registerGetter(store, namespacedType, getter, local)\n  })\n\n  module.forEachChild((child:any, key:any) => {\n    installModule(store, rootState, path.concat(key), child, hot)\n  })\n}\n\n/**\n * make localized dispatch, commit, getters and state\n * if there is no namespace, just use root ones\n */\nfunction makeLocalContext (store:any, namespace:any, path:any) {\n  const noNamespace = namespace === ''\n\n  const local = {\n    dispatch: noNamespace ? store.dispatch : (_type:any, _payload:any, _options:any) => {\n      const args = unifyObjectStyle(_type, _payload, _options)\n      const { payload, options } = args\n      let { type } = args\n\n      if (!options || !options.root) {\n        type = namespace + type\n        if (__DEV__ && !store._actions[type]) {\n          console.error(`[vuex] unknown local action type: ${args.type}, global type: ${type}`)\n          return\n        }\n      }\n\n      return store.dispatch(type, payload)\n    },\n\n    commit: noNamespace ? store.commit : (_type:any, _payload:any, _options:any) => {\n      const args = unifyObjectStyle(_type, _payload, _options)\n      const { payload, options } = args\n      let { type } = args\n\n      if (!options || !options.root) {\n        type = namespace + type\n        if (__DEV__ && !store._mutations[type]) {\n          console.error(`[vuex] unknown local mutation type: ${args.type}, global type: ${type}`)\n          return\n        }\n      }\n\n      store.commit(type, payload, options)\n    }\n  }\n\n  // getters and state object must be gotten lazily\n  // because they will be changed by state update\n  Object.defineProperties(local, {\n    getters: {\n      get: noNamespace\n        ? () => store.getters\n        : () => makeLocalGetters(store, namespace)\n    },\n    state: {\n      get: () => getNestedState(store.state, path)\n    }\n  })\n\n  return local\n}\n\nfunction makeLocalGetters (store:any, namespace:any) {\n  if (!store._makeLocalGettersCache[namespace]) {\n    const gettersProxy = {}\n    const splitPos = namespace.length\n    Object.keys(store.getters).forEach(type => {\n      // skip if the target getter is not match this namespace\n      if (type.slice(0, splitPos) !== namespace) return\n\n      // extract local getter type\n      const localType = type.slice(splitPos)\n\n      // Add a port to the getters proxy.\n      // Define as getter property because\n      // we do not want to evaluate the getters in this time.\n      Object.defineProperty(gettersProxy, localType, {\n        get: () => store.getters[type],\n        enumerable: true\n      })\n    })\n    store._makeLocalGettersCache[namespace] = gettersProxy\n  }\n\n  return store._makeLocalGettersCache[namespace]\n}\n\nfunction registerMutation (store:any, type:any, handler:any, local:any) {\n  const entry = store._mutations[type] || (store._mutations[type] = [])\n  entry.push(function wrappedMutationHandler (payload:any) {\n    handler.call(store, local.state, payload)\n  })\n}\n\nfunction registerAction (store:any, type:any, handler:any, local:any) {\n  const entry = store._actions[type] || (store._actions[type] = [])\n  entry.push(function wrappedActionHandler (payload:any) {\n    let res = handler.call(store, {\n      dispatch: local.dispatch,\n      commit: local.commit,\n      getters: local.getters,\n      state: local.state,\n      rootGetters: store.getters,\n      rootState: store.state\n    }, payload)\n    if (!isPromise(res)) {\n      res = Promise.resolve(res)\n    }\n    if (store._devtoolHook) {\n      return res.catch((err:any) => {\n        store._devtoolHook.emit('vuex:error', err)\n        throw err\n      })\n    } else {\n      return res\n    }\n  })\n}\n\nfunction registerGetter (store:any, type:any, rawGetter:any, local:any) {\n  if (store._wrappedGetters[type]) {\n    if (__DEV__) {\n      console.error(`[vuex] duplicate getter key: ${type}`)\n    }\n    return\n  }\n  store._wrappedGetters[type] = function wrappedGetter (store:any) {\n    return rawGetter(\n      local.state, // local state\n      local.getters, // local getters\n      store.state, // root state\n      store.getters // root getters\n    )\n  }\n}\n\nfunction enableStrictMode (store:any) {\n  watch(() => store._state.data, () => {\n    if (__DEV__) {\n      assert(store._committing, `do not mutate vuex store state outside mutation handlers.`)\n    }\n  }, { deep: true, flush: 'sync' })\n}\n\nfunction getNestedState (state:any, path:any) {\n  return path.reduce((state:any, key:string) => state[key], state)\n}\n\nfunction unifyObjectStyle (type:any, payload:any, options?:any) {\n  if (isObject(type) && type.type) {\n    options = payload\n    payload = type\n    type = type.type\n  }\n\n  if (__DEV__) {\n    assert(typeof type === 'string', `expects string as the type, but found ${typeof type}.`)\n  }\n\n  return { type, payload, options }\n}\n","import { isObject } from './util'\n\n/**\n * Reduce the code which written in Vue.js for getting the state.\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} states # Object's item can be a function which accept state and getters for param, you can do something for state and getters in it.\n * @param {Object}\n */\nexport const mapState = normalizeNamespace((namespace:any, states:any) => {\n  const res:any = {}\n  if (__DEV__ && !isValidMap(states)) {\n    console.error('[vuex] mapState: mapper parameter must be either an Array or an Object')\n  }\n  normalizeMap(states).forEach(({ key, val }) => {\n    res[key] = function mappedState () {\n      let state = this.$store.state\n      let getters = this.$store.getters\n      if (namespace) {\n        const module = getModuleByNamespace(this.$store, 'mapState', namespace)\n        if (!module) {\n          return\n        }\n        state = module.context.state\n        getters = module.context.getters\n      }\n      return typeof val === 'function'\n        ? val.call(this, state, getters)\n        : state[val]\n    }\n    // mark vuex getter for devtools\n    res[key].vuex = true\n  })\n  return res\n})\n\n/**\n * Reduce the code which written in Vue.js for committing the mutation\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} mutations # Object's item can be a function which accept `commit` function as the first param, it can accept anthor params. You can commit mutation and do any other things in this function. specially, You need to pass anthor params from the mapped function.\n * @return {Object}\n */\nexport const mapMutations = normalizeNamespace((namespace:any, mutations:any) => {\n  const res:any = {}\n  if (__DEV__ && !isValidMap(mutations)) {\n    console.error('[vuex] mapMutations: mapper parameter must be either an Array or an Object')\n  }\n  normalizeMap(mutations).forEach(({ key, val }) => {\n    res[key] = function mappedMutation (...args:any) {\n      // Get the commit method from store\n      let commit = this.$store.commit\n      if (namespace) {\n        const module = getModuleByNamespace(this.$store, 'mapMutations', namespace)\n        if (!module) {\n          return\n        }\n        commit = module.context.commit\n      }\n      return typeof val === 'function'\n        ? val.apply(this, [commit].concat(args))\n        : commit.apply(this.$store, [val].concat(args))\n    }\n  })\n  return res\n})\n\n/**\n * Reduce the code which written in Vue.js for getting the getters\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} getters\n * @return {Object}\n */\nexport const mapGetters = normalizeNamespace((namespace:any, getters:any) => {\n  const res:any = {}\n  if (__DEV__ && !isValidMap(getters)) {\n    console.error('[vuex] mapGetters: mapper parameter must be either an Array or an Object')\n  }\n  normalizeMap(getters).forEach(({ key, val }) => {\n    // The namespace has been mutated by normalizeNamespace\n    val = namespace + val\n    res[key] = function mappedGetter () {\n      if (namespace && !getModuleByNamespace(this.$store, 'mapGetters', namespace)) {\n        return\n      }\n      if (__DEV__ && !(val in this.$store.getters)) {\n        console.error(`[vuex] unknown getter: ${val}`)\n        return\n      }\n      return this.$store.getters[val]\n    }\n    // mark vuex getter for devtools\n    res[key].vuex = true\n  })\n  return res\n})\n\n/**\n * Reduce the code which written in Vue.js for dispatch the action\n * @param {String} [namespace] - Module's namespace\n * @param {Object|Array} actions # Object's item can be a function which accept `dispatch` function as the first param, it can accept anthor params. You can dispatch action and do any other things in this function. specially, You need to pass anthor params from the mapped function.\n * @return {Object}\n */\nexport const mapActions = normalizeNamespace((namespace:any, actions:any) => {\n  const res:any = {}\n  if (__DEV__ && !isValidMap(actions)) {\n    console.error('[vuex] mapActions: mapper parameter must be either an Array or an Object')\n  }\n  normalizeMap(actions).forEach(({ key, val }) => {\n    res[key] = function mappedAction (...args:any) {\n      // get dispatch function from store\n      let dispatch = this.$store.dispatch\n      if (namespace) {\n        const module = getModuleByNamespace(this.$store, 'mapActions', namespace)\n        if (!module) {\n          return\n        }\n        dispatch = module.context.dispatch\n      }\n      return typeof val === 'function'\n        ? val.apply(this, [dispatch].concat(args))\n        : dispatch.apply(this.$store, [val].concat(args))\n    }\n  })\n  return res\n})\n\n/**\n * Rebinding namespace param for mapXXX function in special scoped, and return them by simple object\n * @param {String} namespace\n * @return {Object}\n */\nexport const createNamespacedHelpers = (namespace:any) => ({\n  mapState: mapState.bind(null, namespace),\n  mapGetters: mapGetters.bind(null, namespace),\n  mapMutations: mapMutations.bind(null, namespace),\n  mapActions: mapActions.bind(null, namespace)\n})\n\n/**\n * Normalize the map\n * normalizeMap([1, 2, 3]) => [ { key: 1, val: 1 }, { key: 2, val: 2 }, { key: 3, val: 3 } ]\n * normalizeMap({a: 1, b: 2, c: 3}) => [ { key: 'a', val: 1 }, { key: 'b', val: 2 }, { key: 'c', val: 3 } ]\n * @param {Array|Object} map\n * @return {Object}\n */\nfunction normalizeMap (map:any) {\n  if (!isValidMap(map)) {\n    return []\n  }\n  return Array.isArray(map)\n    ? map.map(key => ({ key, val: key }))\n    : Object.keys(map).map(key => ({ key, val: map[key] }))\n}\n\n/**\n * Validate whether given map is valid or not\n * @param {*} map\n * @return {Boolean}\n */\nfunction isValidMap (map:any) {\n  return Array.isArray(map) || isObject(map)\n}\n\n/**\n * Return a function expect two param contains namespace and map. it will normalize the namespace and then the param's function will handle the new namespace and the map.\n * @param {Function} fn\n * @return {Function}\n */\nfunction normalizeNamespace (fn:Function) {\n  return (namespace:any, map:any) => {\n    if (typeof namespace !== 'string') {\n      map = namespace\n      namespace = ''\n    } else if (namespace.charAt(namespace.length - 1) !== '/') {\n      namespace += '/'\n    }\n    return fn(namespace, map)\n  }\n}\n\n/**\n * Search a special module from store by namespace. if module not exist, print error message.\n * @param {Object} store\n * @param {String} helper\n * @param {String} namespace\n * @return {Object}\n */\nfunction getModuleByNamespace (store:any, helper:any, namespace:any) {\n  const module = store._modulesNamespaceMap[namespace]\n  if (__DEV__ && !module) {\n    console.error(`[vuex] module namespace not found in ${helper}(): ${namespace}`)\n  }\n  return module\n}\n","\nimport { deepCopy } from '../util'\n\nexport function createLogger ({\n  collapsed = true,\n  filter = (mutation:any, stateBefore:any, stateAfter:any) => true,\n  transformer = (state:any) => state,\n  mutationTransformer = (mut:any) => mut,\n  actionFilter = (action:any, state:any) => true,\n  actionTransformer = (act:any) => act,\n  logMutations = true,\n  logActions = true,\n  logger = console\n} = {}) {\n  return (store:any) => {\n    let prevState = deepCopy(store.state)\n\n    if (typeof logger === 'undefined') {\n      return\n    }\n\n    if (logMutations) {\n      store.subscribe((mutation:any, state:any) => {\n        const nextState = deepCopy(state)\n\n        if (filter(mutation, prevState, nextState)) {\n          const formattedTime = getFormattedTime()\n          const formattedMutation = mutationTransformer(mutation)\n          const message = `mutation ${mutation.type}${formattedTime}`\n\n          startMessage(logger, message, collapsed)\n          logger.log('%c prev state', 'color: #9E9E9E; font-weight: bold', transformer(prevState))\n          logger.log('%c mutation', 'color: #03A9F4; font-weight: bold', formattedMutation)\n          logger.log('%c next state', 'color: #4CAF50; font-weight: bold', transformer(nextState))\n          endMessage(logger)\n        }\n\n        prevState = nextState\n      })\n    }\n\n    if (logActions) {\n      store.subscribeAction((action:any, state:any) => {\n        if (actionFilter(action, state)) {\n          const formattedTime = getFormattedTime()\n          const formattedAction = actionTransformer(action)\n          const message = `action ${action.type}${formattedTime}`\n\n          startMessage(logger, message, collapsed)\n          logger.log('%c action', 'color: #03A9F4; font-weight: bold', formattedAction)\n          endMessage(logger)\n        }\n      })\n    }\n  }\n}\n\nfunction startMessage (logger:any, message:any, collapsed:any) {\n  const startMessage = collapsed\n    ? logger.groupCollapsed\n    : logger.group\n\n  // render\n  try {\n    startMessage.call(logger, message)\n  } catch (e) {\n    logger.log(message)\n  }\n}\n\nfunction endMessage (logger:any) {\n  try {\n    logger.groupEnd()\n  } catch (e) {\n    logger.log('—— log end ——')\n  }\n}\n\nfunction getFormattedTime () {\n  const time = new Date()\n  return ` @ ${pad(time.getHours(), 2)}:${pad(time.getMinutes(), 2)}:${pad(time.getSeconds(), 2)}.${pad(time.getMilliseconds(), 3)}`\n}\n\nfunction repeat (str:any, times:any) {\n  return (new Array(times + 1)).join(str)\n}\n\nfunction pad (num:any, maxLength:any) {\n  return repeat('0', maxLength - num.toString().length) + num\n}\n","/**\n * Store的数据操作类型\n */\nexport enum OperationType {\n  ADD,\n  DELETE,\n  UPDATE\n}\n\nexport interface Operation{\n  type: OperationType,\n  key: Array<string>,\n  value: any\n}\n\nexport type Operations = Array<Operation>","import {OperationType, Operation, Operations} from './types'\nexport const NAMESPACE = Hummer.env.namespace || '';\n\nconst randomChars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n/**\n * 对象的Diff操作\n * @param left Origin Object\n * @param right Target Object\n */\nexport function diff(left:Record<string, any>, right:Record<string, any>, parentKey:Array<string> = []):Operations{\n  let ops:Operations = []\n  Object.keys(left).forEach(key => {\n    if(!right.hasOwnProperty(key)){\n      // Delete Attr\n      ops.push(createOperation(OperationType.DELETE, [...parentKey, key]))\n      return\n    }\n    if(isObject(left[key]) && isObject(right[key])){\n      // Deep Diff Object\n      if(!isEqual(left[key], right[key])){\n        ops.push(createOperation(OperationType.UPDATE, [...parentKey, key], right[key])) \n      }\n      // let diffOps = diff(left[key], right[key], [...parentKey, key]);\n      // diffOps.forEach(op => {\n      //   ops.push(op)\n      // })\n    }else {\n      if(left[key] !== right[key]){\n        ops.push(createOperation(OperationType.UPDATE, [...parentKey, key], right[key]))\n      }\n    }\n    \n  })\n\n  Object.keys(right).forEach(key => {\n    if(!left.hasOwnProperty(key)){\n      // Add Attr\n      ops.push(createOperation(OperationType.ADD, [...parentKey,key], right[key]))\n    }\n  })  \n  return ops\n}\n\nexport function createOperation(type:OperationType, key:Array<string>, value?:any):Operation{\n  return {\n    type:type,\n    key: key,\n    value: value \n  }\n}\n\nfunction isObject(x:any):Boolean{\n  return Object(x) === x\n}\n\n// 对象间比较，判断引用是否更改，同Vue的校验\nfunction isEqual(left:object, right:object):boolean{\n  // return JSON.stringify(left) === JSON.stringify(right)\n  return left === right\n}\n\n// Common Clone Object\nexport function cloneObject(source: object):object{\n  return Object.assign({}, source)\n}\n\nexport function getUUID(){\n  const id = randomString(8, randomChars); \n  return id\n}\n\nexport function getNotifyEventKey(customKey?: string){\n  return `${customKey || NAMESPACE}_UPDATE_STORE`\n}\n\nexport function getMemoryKey(customKey?: string){\n  return `${customKey || NAMESPACE}_STORE_MEMORY`\n}\n\nfunction randomString(length = 8, chars: string) {\n  var result = '';\n  for (var i = length; i > 0; --i) result += chars[Math.floor(Math.random() * chars.length)];\n  return result;\n}\n\nexport const Undefined = Symbol('undefined')\nexport const StaicUndefined = 'undefined' // 转换的时候，暂时直接使用 undefined 字符串\nexport function stringify(obj: Object){\n  return JSON.stringify(obj, (key:string, value:any) => {\n    if(value === undefined){\n      return StaicUndefined\n    }\n    return value\n  })\n}\n\nexport function parseJson(json: string){\n  let obj = JSON.parse(json, (key:string, value:any) => {\n    if(value === StaicUndefined){\n      return Undefined\n    }\n    return value\n  })\n  Object.keys(obj).forEach((key) => {\n    if(obj[key] === Undefined){\n      obj[key] = undefined\n    } \n  })\n  return obj\n}\n\nexport function setMemoryByKey(key:string, content: string){\n  // 由于 Android getMemory时，会自动反序列化字符串。存储的时候增加前缀，设为非标准 Json String。\n  Memory.set(key, 'Memory_'+content);\n}\n\nexport function getMemoryByKey(key:string){\n  let data = Memory.get(key);\n  if (data) {\n    // 兼容新老版本store 避免页面报错\n    if (!data.startsWith('Memory_')) {\n      return data\n    }\n  }\n  return data && data.slice(7);\n}","import {diff, cloneObject, getUUID, getNotifyEventKey, getMemoryKey,stringify, parseJson, getMemoryByKey, setMemoryByKey} from './utils/index'\nimport {Operation, OperationType} from './utils/types'\nconst id = getUUID();\nlet cacheData:Record<string, any> = {}; \n\n/**\n * Hummer Store 插件配置项\n */\ninterface HummerPluginOptions {\n  /**\n   * 自定义的存储key\n   * 默认会通过 Hummer.env.namespace 生成对应的 Memory 存储 key\n   * 当应用中存在多个 Store 时，可以通过该缓存插件传入自定义的 key 做存储区分\n   */\n  store_key?: string\n}\n/**\n * 多页面同步数据\n * @param param Options\n */\nexport function createHummerPlugin ({\n  store_key\n}: HummerPluginOptions = {}) {\n  const MemoryStoreKey = getMemoryKey(store_key);\n  const NotifyEvent = getNotifyEventKey(store_key);\n\n  return (store:any) => {\n    // 初始化数据\n    initState(store, MemoryStoreKey)\n    // 注册通知\n    let notifyCenter =  Hummer.notifyCenter\n    notifyCenter.addEventListener(NotifyEvent, ({eventId, operations}: any) => {\n      if(eventId === id){\n        return\n      }\n      // JSCore中数组Proxy对象会被转换为Object，事件通信时采用字符串\n      if(typeof operations === 'string'){\n        operations = JSON.parse(operations)\n      }\n      resetStore(store, operations);\n      cacheData = cloneObject(store.state);\n    })\n\n    // 只监测Mutation的提交变化，不支持监听ResetStore\n    store.subscribe((mutation:any, state:any) => {\n      setMemoryByKey(MemoryStoreKey, stringify(state));\n      // TODO 限流操作\n      let ops = diff(cacheData, state);\n      if(!ops || ops.length === 0){\n        return\n      }\n      notifyCenter.triggerEvent(NotifyEvent, {\n        eventId: id,\n        operations: JSON.stringify(ops)\n      });\n      cacheData = cloneObject(state);\n    })\n  }\n}\n\nfunction initState(store: any, MemoryStoreKey: string){\n  let newData = getMemoryByKey(MemoryStoreKey);\n  if(newData){\n    newData = parseJson(newData);\n    cacheData = cloneObject(newData);\n    store.replaceState(newData);\n  }\n}\n\n\nfunction setObjectValue(ob:any, keys:Array<string>, value: any){\n  let temp = ob;\n  let lastKey = keys.pop();\n  keys.forEach((key,index) => {\n    temp = temp[key]\n  })\n  temp && lastKey &&  (temp[lastKey] = value)\n}\n\nfunction resetStore(store: any, operations:Array<Operation>){\n operations.forEach(operation=> {\n   updateStore(store, operation)\n })\n}\n\nfunction updateStore(store:any, operation:Operation){\n  let {type, key, value} = operation;\n\n  store._withCommit(() => {\n    switch(type){\n      case OperationType.ADD:\n        setObjectValue(store.state, key, value)\n        break;\n      case OperationType.DELETE:\n        setObjectValue(store.state, key, undefined)\n        break;\n      case OperationType.UPDATE:\n        setObjectValue(store.state, key, value)\n        break;\n      default:\n        break;\n    }\n  })\n}","import { createStore, Store } from './store'\nimport { useStore } from './injectKey'\nimport { mapState, mapMutations, mapGetters, mapActions, createNamespacedHelpers } from './helpers'\nimport { createLogger } from './plugins/logger'\nimport {createHummerPlugin} from './plugins/hummer'\n\nexport default {\n  createStore,\n  Store,\n  useStore,\n  mapState,\n  mapMutations,\n  mapGetters,\n  mapActions,\n  createNamespacedHelpers,\n  createLogger,\n  createHummerPlugin\n}\n\nexport {\n  createStore,\n  Store,\n  useStore,\n  mapState,\n  mapMutations,\n  mapGetters,\n  mapActions,\n  createNamespacedHelpers,\n  createLogger,\n  createHummerPlugin\n}\n"],"names":["inject","isObject","watch","resetStore","computed","reactive"],"mappings":";;;;;;AAEO,MAAM,QAAQ,GAAG,OAAO,CAAA;SAEf,QAAQ,CAAE,GAAW;IACnC,OAAOA,eAAM,CAAC,GAAG,IAAI,QAAQ,CAAC,CAAA;AAChC;;SCEgB,IAAI,CAAE,IAAe,EAAE,CAAK;IAC1C,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;AAC1B,CAAC;SAWe,QAAQ,CAAE,GAAO,EAAE,QAAY,EAAE;IAE/C,IAAI,GAAG,KAAK,IAAI,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;QAC3C,OAAO,GAAG,CAAA;KACX;IAGD,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC,CAAK,KAAK,CAAC,CAAC,QAAQ,KAAK,GAAG,CAAC,CAAA;IACtD,IAAI,GAAG,EAAE;QACP,OAAO,GAAG,CAAC,IAAI,CAAA;KAChB;IAED,MAAM,IAAI,GAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,CAAA;IAG7C,KAAK,CAAC,IAAI,CAAC;QACT,QAAQ,EAAE,GAAG;QACb,IAAI;KACL,CAAC,CAAA;IAEF,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG;QAC1B,IAAI,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,CAAA;KACtC,CAAC,CAAA;IAEF,OAAO,IAAI,CAAA;AACb,CAAC;SAKe,YAAY,CAAE,GAAO,EAAE,EAAW;IAChD,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAA;AACpD,CAAC;SAEeC,UAAQ,CAAE,GAAO;IAC/B,OAAO,GAAG,KAAK,IAAI,IAAI,OAAO,GAAG,KAAK,QAAQ,CAAA;AAChD,CAAC;SAEe,SAAS,CAAE,GAAO;IAChC,OAAO,GAAG,IAAI,OAAO,GAAG,CAAC,IAAI,KAAK,UAAU,CAAA;AAC9C,CAAC;SAMe,OAAO,CAAE,EAAM,EAAE,GAAU;IACzC,OAAO;QACL,OAAO,EAAE,CAAC,GAAG,CAAC,CAAA;KACf,CAAA;AACH;;MCpEqB,MAAM;IAKzB,YAAa,SAAa,EAAE,OAAW;QACrC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAA;QAEtB,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QAEpC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAA;QAC3B,MAAM,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAA;QAGhC,IAAI,CAAC,KAAK,GAAG,CAAC,OAAO,QAAQ,KAAK,UAAU,GAAG,QAAQ,EAAE,GAAG,QAAQ,KAAK,EAAE,CAAA;KAC5E;IAED,IAAI,UAAU;QACZ,OAAO,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAA;KACpC;IAED,QAAQ,CAAE,GAAO,EAAE,MAAU;QAC3B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,MAAM,CAAA;KAC7B;IAED,WAAW,CAAE,GAAO;QAClB,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAA;KAC3B;IAED,QAAQ,CAAE,GAAO;QACf,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAA;KAC3B;IAED,QAAQ,CAAE,GAAO;QACf,OAAO,GAAG,IAAI,IAAI,CAAC,SAAS,CAAA;KAC7B;IAED,MAAM,CAAE,SAAa;QACnB,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAA;QACjD,IAAI,SAAS,CAAC,OAAO,EAAE;YACrB,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAA;SAC5C;QACD,IAAI,SAAS,CAAC,SAAS,EAAE;YACvB,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAA;SAChD;QACD,IAAI,SAAS,CAAC,OAAO,EAAE;YACrB,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,SAAS,CAAC,OAAO,CAAA;SAC5C;KACF;IAED,YAAY,CAAE,EAAW;QACvB,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,CAAC,CAAA;KACjC;IAED,aAAa,CAAE,EAAW;QACxB,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;YAC3B,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAA;SAC1C;KACF;IAED,aAAa,CAAE,EAAW;QACxB,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;YAC3B,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,EAAE,CAAC,CAAA;SAC1C;KACF;IAED,eAAe,CAAE,EAAW;QAC1B,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;YAC7B,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,EAAE,CAAC,CAAA;SAC5C;KACF;;;MCtEkB,gBAAgB;IAEnC,YAAa,aAAiB;QAE5B,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,aAAa,EAAE,KAAK,CAAC,CAAA;KACxC;IAED,GAAG,CAAE,IAAQ;QACX,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,MAAU,EAAE,GAAU;YACxC,OAAO,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAA;SAC5B,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;KACd;IAED,YAAY,CAAE,IAAQ;QACpB,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAA;QACtB,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,SAAa,EAAE,GAAO;YACxC,MAAM,GAAG,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAA;YAC7B,OAAO,SAAS,IAAI,MAAM,CAAC,UAAU,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAA;SACxD,EAAE,EAAE,CAAC,CAAA;KACP;IAED,MAAM,CAAE,aAAiB;QACvB,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,EAAE,aAAa,CAAC,CAAA;KACrC;IAED,QAAQ,CAAE,IAAQ,EAAE,SAAa,EAAE,OAAO,GAAG,IAAI;QAK/C,MAAM,SAAS,GAAG,IAAI,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,CAAA;QAChD,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YACrB,IAAI,CAAC,IAAI,GAAG,SAAS,CAAA;SACtB;aAAM;YACL,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;YAC1C,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,CAAA;SAClD;QAGD,IAAI,SAAS,CAAC,OAAO,EAAE;YACrB,YAAY,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,cAAkB,EAAE,GAAO;gBAC1D,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,cAAc,EAAE,OAAO,CAAC,CAAA;aACzD,CAAC,CAAA;SACH;KACF;IAED,UAAU,CAAE,IAAQ;QAClB,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;QAC1C,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;QACjC,MAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAA;QAElC,IAAI,CAAC,KAAK,EAAE;YAOV,OAAM;SACP;QAED,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;YAClB,OAAM;SACP;QAED,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAA;KACxB;IAED,YAAY,CAAE,IAAQ;QACpB,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;QAC1C,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;QAEjC,OAAO,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAA;KAC5B;CACF;AAED,SAAS,MAAM,CAAE,IAAQ,EAAE,YAAgB,EAAE,SAAa;IAMxD,YAAY,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;IAG9B,IAAI,SAAS,CAAC,OAAO,EAAE;QACrB,KAAK,MAAM,GAAG,IAAI,SAAS,CAAC,OAAO,EAAE;YACnC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAO/B,OAAM;aACP;YACD,MAAM,CACJ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAChB,YAAY,CAAC,QAAQ,CAAC,GAAG,CAAC,EAC1B,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CACvB,CAAA;SACF;KACF;AACH;;SCjGgB,WAAW,CAAE,OAAoB;IAC/C,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,CAAA;AAC3B,CAAC;MAEY,KAAK;IAahB,YAAa,UAAuB,EAAE;QACpC,MAAM,EACJ,OAAO,GAAG,EAAE,EACZ,MAAM,GAAG,KAAK,EACf,GAAG,OAAO,CAAA;QAGX,IAAI,CAAC,WAAW,GAAG,KAAK,CAAA;QACxB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACnC,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAA;QAC5B,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACrC,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QAC1C,IAAI,CAAC,QAAQ,GAAG,IAAI,gBAAgB,CAAC,OAAO,CAAC,CAAA;QAC7C,IAAI,CAAC,oBAAoB,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QAC/C,IAAI,CAAC,YAAY,GAAG,EAAE,CAAA;QACtB,IAAI,CAAC,sBAAsB,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QAEjD,MAAM,KAAK,GAAG,IAAI,CAAA;QAClB,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,GAAG,IAAI,CAAA;QACjC,IAAI,CAAC,QAAQ,GAAG,SAAS,aAAa,CAAE,IAAI,EAAE,OAAO;YACnD,OAAO,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,OAAO,CAAC,CAAA;SAC3C,CAAA;QACD,IAAI,CAAC,MAAM,GAAG,SAAS,WAAW,CAAE,IAAI,EAAE,OAAO,EAAE,OAAO;YACxD,OAAO,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAAA;SAClD,CAAA;QAGD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;QAEpB,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAA;QAKtC,aAAa,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAA;QAIlD,eAAe,CAAC,IAAI,EAAE,KAAK,CAAC,CAAA;QAE5B,OAAO,CAAC,OAAO,CAAC,MAAM,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;KACxC;IAED,OAAO,CAAE,GAAO,EAAE,SAAgB;QAChC,GAAG,CAAC,OAAO,CAAC,SAAS,IAAI,QAAQ,EAAE,IAAI,CAAC,CAAA;QACxC,GAAG,CAAC,MAAM,CAAC,gBAAgB,CAAC,MAAM,GAAG,IAAI,CAAA;KAC1C;IAED,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAA;KACxB;IAED,IAAI,KAAK,CAAE,CAAC;KAIX;IAED,MAAM,CAAE,KAAS,EAAE,QAAY,EAAE,QAAY;QAE3C,MAAM,EACJ,IAAI,EACJ,OAAO,EACP,OAAO,EACR,GAAG,gBAAgB,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAA;QAE/C,MAAM,QAAQ,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,CAAA;QAClC,MAAM,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;QACnC,IAAI,CAAC,KAAK,EAAE;YAIV,OAAM;SACP;QACD,IAAI,CAAC,WAAW,CAAC;YACf,KAAK,CAAC,OAAO,CAAC,SAAS,cAAc,CAAE,OAAgB;gBACrD,OAAO,CAAC,OAAO,CAAC,CAAA;aACjB,CAAC,CAAA;SACH,CAAC,CAAA;QAEF,IAAI,CAAC,YAAY;aACd,KAAK,EAAE;aACP,OAAO,CAAC,CAAC,GAAY,KAAK,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAA;KAWxD;IAED,QAAQ,CAAE,KAAS,EAAE,QAAY;QAE/B,MAAM,EACJ,IAAI,EACJ,OAAO,EACR,GAAG,gBAAgB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAA;QAErC,MAAM,MAAM,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,CAAA;QAChC,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAA;QACjC,IAAI,CAAC,KAAK,EAAE;YAIV,OAAM;SACP;QAED,IAAI;YACF,IAAI,CAAC,kBAAkB;iBACpB,KAAK,EAAE;iBACP,MAAM,CAAC,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC;iBACzB,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAA;SAClD;QAAC,OAAO,CAAC,EAAE;SAKX;QAED,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC;cAC3B,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAgB,KAAK,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;cAC9D,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAA;QAErB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM;YACjC,MAAM,CAAC,IAAI,CAAC,CAAC,GAAO;gBAClB,IAAI;oBACF,IAAI,CAAC,kBAAkB;yBACpB,MAAM,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC;yBACxB,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAA;iBACjD;gBAAC,OAAO,CAAC,EAAE;iBAKX;gBACD,OAAO,CAAC,GAAG,CAAC,CAAA;aACb,EAAE,CAAC,KAAS;gBACX,IAAI;oBACF,IAAI,CAAC,kBAAkB;yBACpB,MAAM,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC;yBACxB,OAAO,CAAC,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAA;iBACxD;gBAAC,OAAO,CAAC,EAAE;iBAKX;gBACD,MAAM,CAAC,KAAK,CAAC,CAAA;aACd,CAAC,CAAA;SACH,CAAC,CAAA;KACH;IAED,SAAS,CAAE,EAAM,EAAE,OAAW;QAC5B,OAAO,gBAAgB,CAAC,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,OAAO,CAAC,CAAA;KACxD;IAED,eAAe,CAAE,EAAM,EAAE,OAAW;QAClC,MAAM,IAAI,GAAG,OAAO,EAAE,KAAK,UAAU,GAAG,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,EAAE,CAAA;QAC3D,OAAO,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAA;KAChE;IAED,KAAK,CAAE,MAAU,EAAE,EAAM,EAAE,OAAW;QAIpC,OAAOC,cAAK,CAAC,MAAM,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAA;KACrF;IAED,YAAY,CAAE,KAAS;QACrB,IAAI,CAAC,WAAW,CAAC;YAEf,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,KAAK,CAAA;SACzB,CAAC,CAAA;KACH;IAED,cAAc,CAAE,IAAQ,EAAE,SAAa,EAAE,UAAc,EAAE;QACvD,IAAI,OAAO,IAAI,KAAK,QAAQ;YAAE,IAAI,GAAG,CAAC,IAAI,CAAC,CAAA;QAO3C,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,CAAA;QACvC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,aAAa,CAAC,CAAA;QAErF,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;KAClC;IAED,gBAAgB,CAAE,IAAQ;QACxB,IAAI,OAAO,IAAI,KAAK,QAAQ;YAAE,IAAI,GAAG,CAAC,IAAI,CAAC,CAAA;QAM3C,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;QAC9B,IAAI,CAAC,WAAW,CAAC;YACf,MAAM,WAAW,GAAG,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;YACjE,OAAO,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAA;SAC1C,CAAC,CAAA;QACFC,YAAU,CAAC,IAAI,CAAC,CAAA;KACjB;IAED,SAAS,CAAE,IAAQ;QACjB,IAAI,OAAO,IAAI,KAAK,QAAQ;YAAE,IAAI,GAAG,CAAC,IAAI,CAAC,CAAA;QAM3C,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,CAAA;KACxC;IAED,SAAS,CAAE,UAAc;QACvB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC,CAAA;QAChCA,YAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;KACvB;IAED,WAAW,CAAE,EAAW;QACtB,MAAM,UAAU,GAAG,IAAI,CAAC,WAAW,CAAA;QACnC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAA;QACvB,EAAE,EAAE,CAAA;QACJ,IAAI,CAAC,WAAW,GAAG,UAAU,CAAA;KAC9B;CACF;AAED,SAAS,gBAAgB,CAAE,EAAW,EAAE,IAAQ,EAAE,OAAY;IAC5D,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE;QACxB,OAAO,IAAI,OAAO,CAAC,OAAO;cACtB,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;cAChB,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;KAClB;IACD,OAAO;QACL,MAAM,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA;QAC1B,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;YACV,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;SAClB;KACF,CAAA;AACH,CAAC;AAED,SAASA,YAAU,CAAE,KAAS,EAAE,GAAQ;IACtC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;IACpC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;IACtC,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;IAC3C,KAAK,CAAC,oBAAoB,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;IAChD,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAA;IAEzB,aAAa,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;IAE1D,eAAe,CAAC,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,CAAA;AACpC,CAAC;AAED,SAAS,eAAe,CAAE,KAAS,EAAE,KAAS,EAAE,GAAQ;IACtD,MAAM,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAA;IAG7B,KAAK,CAAC,OAAO,GAAG,EAAE,CAAA;IAElB,KAAK,CAAC,sBAAsB,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;IAClD,MAAM,cAAc,GAAG,KAAK,CAAC,eAAe,CAAA;IAC5C,MAAM,WAAW,GAAO,EAAE,CAAA;IAC1B,YAAY,CAAC,cAAc,EAAE,CAAC,EAAM,EAAE,GAAO;QAI3C,WAAW,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,EAAE,EAAE,KAAK,CAAC,CAAA;QACrC,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,EAAE;YACxC,GAAG,EAAE,MAAMC,iBAAQ,CAAC,MAAM,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK;YACnD,UAAU,EAAE,IAAI;SACjB,CAAC,CAAA;KACH,CAAC,CAAA;IAEF,KAAK,CAAC,MAAM,GAAGC,iBAAQ,CAAC;QACtB,IAAI,EAAE,KAAK;KACZ,CAAC,CAAA;IAGF,IAAI,KAAK,CAAC,MAAM,EAAE;QAChB,gBAAgB,CAAC,KAAK,CAAC,CAAA;KACxB;IAED,IAAI,QAAQ,EAAE;QACZ,IAAI,GAAG,EAAE;YAGP,KAAK,CAAC,WAAW,CAAC;gBAChB,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAA;aACrB,CAAC,CAAA;SACH;KACF;AACH,CAAC;AAED,SAAS,aAAa,CAAE,KAAS,EAAE,SAAa,EAAE,IAAQ,EAAE,MAAU,EAAE,GAAQ;IAC9E,MAAM,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAA;IAC3B,MAAM,SAAS,GAAG,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,CAAA;IAGnD,IAAI,MAAM,CAAC,UAAU,EAAE;QACrB,IAAI,KAAK,CAAC,oBAAoB,CAAC,SAAS,CAAC,IAAI,KAAO,EAAE,CAErD;QACD,KAAK,CAAC,oBAAoB,CAAC,SAAS,CAAC,GAAG,MAAM,CAAA;KAC/C;IAGD,IAAI,CAAC,MAAM,IAAI,CAAC,GAAG,EAAE;QACnB,MAAM,WAAW,GAAG,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;QAChE,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;QACxC,KAAK,CAAC,WAAW,CAAC;YAQhB,WAAW,CAAC,UAAU,CAAC,GAAG,MAAM,CAAC,KAAK,CAAA;SACvC,CAAC,CAAA;KACH;IAED,MAAM,KAAK,GAAG,MAAM,CAAC,OAAO,GAAG,gBAAgB,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,CAAC,CAAA;IAEvE,MAAM,CAAC,eAAe,CAAC,CAAC,QAAY,EAAE,GAAO;QAC3C,MAAM,cAAc,GAAG,SAAS,GAAG,GAAG,CAAA;QACtC,gBAAgB,CAAC,KAAK,EAAE,cAAc,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAA;KACzD,CAAC,CAAA;IAEF,MAAM,CAAC,aAAa,CAAC,CAAC,MAAU,EAAE,GAAO;QACvC,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,GAAG,GAAG,GAAG,SAAS,GAAG,GAAG,CAAA;QAChD,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,IAAI,MAAM,CAAA;QACxC,cAAc,CAAC,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC,CAAA;KAC5C,CAAC,CAAA;IAEF,MAAM,CAAC,aAAa,CAAC,CAAC,MAAU,EAAE,GAAO;QACvC,MAAM,cAAc,GAAG,SAAS,GAAG,GAAG,CAAA;QACtC,cAAc,CAAC,KAAK,EAAE,cAAc,EAAE,MAAM,EAAE,KAAK,CAAC,CAAA;KACrD,CAAC,CAAA;IAEF,MAAM,CAAC,YAAY,CAAC,CAAC,KAAS,EAAE,GAAO;QACrC,aAAa,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,CAAA;KAC9D,CAAC,CAAA;AACJ,CAAC;AAMD,SAAS,gBAAgB,CAAE,KAAS,EAAE,SAAa,EAAE,IAAQ;IAC3D,MAAM,WAAW,GAAG,SAAS,KAAK,EAAE,CAAA;IAEpC,MAAM,KAAK,GAAG;QACZ,QAAQ,EAAE,WAAW,GAAG,KAAK,CAAC,QAAQ,GAAG,CAAC,KAAS,EAAE,QAAY,EAAE,QAAY;YAC7E,MAAM,IAAI,GAAG,gBAAgB,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAA;YACxD,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAA;YACjC,IAAI,EAAE,IAAI,EAAE,GAAG,IAAI,CAAA;YAEnB,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;gBAC7B,IAAI,GAAG,SAAS,GAAG,IAAI,CAAA;aAKxB;YAED,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAA;SACrC;QAED,MAAM,EAAE,WAAW,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,KAAS,EAAE,QAAY,EAAE,QAAY;YACzE,MAAM,IAAI,GAAG,gBAAgB,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAA;YACxD,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,CAAA;YACjC,IAAI,EAAE,IAAI,EAAE,GAAG,IAAI,CAAA;YAEnB,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;gBAC7B,IAAI,GAAG,SAAS,GAAG,IAAI,CAAA;aAKxB;YAED,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,CAAA;SACrC;KACF,CAAA;IAID,MAAM,CAAC,gBAAgB,CAAC,KAAK,EAAE;QAC7B,OAAO,EAAE;YACP,GAAG,EAAE,WAAW;kBACZ,MAAM,KAAK,CAAC,OAAO;kBACnB,MAAM,gBAAgB,CAAC,KAAK,EAAE,SAAS,CAAC;SAC7C;QACD,KAAK,EAAE;YACL,GAAG,EAAE,MAAM,cAAc,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC;SAC7C;KACF,CAAC,CAAA;IAEF,OAAO,KAAK,CAAA;AACd,CAAC;AAED,SAAS,gBAAgB,CAAE,KAAS,EAAE,SAAa;IACjD,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,SAAS,CAAC,EAAE;QAC5C,MAAM,YAAY,GAAG,EAAE,CAAA;QACvB,MAAM,QAAQ,GAAG,SAAS,CAAC,MAAM,CAAA;QACjC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI;YAErC,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,KAAK,SAAS;gBAAE,OAAM;YAGjD,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;YAKtC,MAAM,CAAC,cAAc,CAAC,YAAY,EAAE,SAAS,EAAE;gBAC7C,GAAG,EAAE,MAAM,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;gBAC9B,UAAU,EAAE,IAAI;aACjB,CAAC,CAAA;SACH,CAAC,CAAA;QACF,KAAK,CAAC,sBAAsB,CAAC,SAAS,CAAC,GAAG,YAAY,CAAA;KACvD;IAED,OAAO,KAAK,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAA;AAChD,CAAC;AAED,SAAS,gBAAgB,CAAE,KAAS,EAAE,IAAQ,EAAE,OAAW,EAAE,KAAS;IACpE,MAAM,KAAK,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAA;IACrE,KAAK,CAAC,IAAI,CAAC,SAAS,sBAAsB,CAAE,OAAW;QACrD,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,OAAO,CAAC,CAAA;KAC1C,CAAC,CAAA;AACJ,CAAC;AAED,SAAS,cAAc,CAAE,KAAS,EAAE,IAAQ,EAAE,OAAW,EAAE,KAAS;IAClE,MAAM,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAA;IACjE,KAAK,CAAC,IAAI,CAAC,SAAS,oBAAoB,CAAE,OAAW;QACnD,IAAI,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE;YAC5B,QAAQ,EAAE,KAAK,CAAC,QAAQ;YACxB,MAAM,EAAE,KAAK,CAAC,MAAM;YACpB,OAAO,EAAE,KAAK,CAAC,OAAO;YACtB,KAAK,EAAE,KAAK,CAAC,KAAK;YAClB,WAAW,EAAE,KAAK,CAAC,OAAO;YAC1B,SAAS,EAAE,KAAK,CAAC,KAAK;SACvB,EAAE,OAAO,CAAC,CAAA;QACX,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACnB,GAAG,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;SAC3B;QACD,IAAI,KAAK,CAAC,YAAY,EAAE;YACtB,OAAO,GAAG,CAAC,KAAK,CAAC,CAAC,GAAO;gBACvB,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,EAAE,GAAG,CAAC,CAAA;gBAC1C,MAAM,GAAG,CAAA;aACV,CAAC,CAAA;SACH;aAAM;YACL,OAAO,GAAG,CAAA;SACX;KACF,CAAC,CAAA;AACJ,CAAC;AAED,SAAS,cAAc,CAAE,KAAS,EAAE,IAAQ,EAAE,SAAa,EAAE,KAAS;IACpE,IAAI,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,EAAE;QAI/B,OAAM;KACP;IACD,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,SAAS,aAAa,CAAE,KAAS;QAC7D,OAAO,SAAS,CACd,KAAK,CAAC,KAAK,EACX,KAAK,CAAC,OAAO,EACb,KAAK,CAAC,KAAK,EACX,KAAK,CAAC,OAAO,CACd,CAAA;KACF,CAAA;AACH,CAAC;AAED,SAAS,gBAAgB,CAAE,KAAS;IAClCH,cAAK,CAAC,MAAM,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE;KAI9B,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,CAAA;AACnC,CAAC;AAED,SAAS,cAAc,CAAE,KAAS,EAAE,IAAQ;IAC1C,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,KAAS,EAAE,GAAU,KAAK,KAAK,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,CAAA;AAClE,CAAC;AAED,SAAS,gBAAgB,CAAE,IAAQ,EAAE,OAAW,EAAE,OAAY;IAC5D,IAAID,UAAQ,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,EAAE;QAC/B,OAAO,GAAG,OAAO,CAAA;QACjB,OAAO,GAAG,IAAI,CAAA;QACd,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;KACjB;IAMD,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,CAAA;AACnC;;MCzgBa,QAAQ,GAAG,kBAAkB,CAAC,CAAC,SAAa,EAAE,MAAU;IACnE,MAAM,GAAG,GAAO,EAAE,CAAA;IAIlB,YAAY,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE;QACxC,GAAG,CAAC,GAAG,CAAC,GAAG,SAAS,WAAW;YAC7B,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAA;YAC7B,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAA;YACjC,IAAI,SAAS,EAAE;gBACb,MAAM,MAAM,GAAG,oBAAoB,CAAC,IAAI,CAAC,MAAM,EAAE,UAAU,EAAE,SAAS,CAAC,CAAA;gBACvE,IAAI,CAAC,MAAM,EAAE;oBACX,OAAM;iBACP;gBACD,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAA;gBAC5B,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,CAAA;aACjC;YACD,OAAO,OAAO,GAAG,KAAK,UAAU;kBAC5B,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC;kBAC9B,KAAK,CAAC,GAAG,CAAC,CAAA;SACf,CAAA;QAED,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,CAAA;KACrB,CAAC,CAAA;IACF,OAAO,GAAG,CAAA;AACZ,CAAC,EAAC;MAQW,YAAY,GAAG,kBAAkB,CAAC,CAAC,SAAa,EAAE,SAAa;IAC1E,MAAM,GAAG,GAAO,EAAE,CAAA;IAIlB,YAAY,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE;QAC3C,GAAG,CAAC,GAAG,CAAC,GAAG,SAAS,cAAc,CAAE,GAAG,IAAQ;YAE7C,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAA;YAC/B,IAAI,SAAS,EAAE;gBACb,MAAM,MAAM,GAAG,oBAAoB,CAAC,IAAI,CAAC,MAAM,EAAE,cAAc,EAAE,SAAS,CAAC,CAAA;gBAC3E,IAAI,CAAC,MAAM,EAAE;oBACX,OAAM;iBACP;gBACD,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAA;aAC/B;YACD,OAAO,OAAO,GAAG,KAAK,UAAU;kBAC5B,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;kBACtC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;SAClD,CAAA;KACF,CAAC,CAAA;IACF,OAAO,GAAG,CAAA;AACZ,CAAC,EAAC;MAQW,UAAU,GAAG,kBAAkB,CAAC,CAAC,SAAa,EAAE,OAAW;IACtE,MAAM,GAAG,GAAO,EAAE,CAAA;IAIlB,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE;QAEzC,GAAG,GAAG,SAAS,GAAG,GAAG,CAAA;QACrB,GAAG,CAAC,GAAG,CAAC,GAAG,SAAS,YAAY;YAC9B,IAAI,SAAS,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,MAAM,EAAE,YAAY,EAAE,SAAS,CAAC,EAAE;gBAC5E,OAAM;aACP;YAKD,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;SAChC,CAAA;QAED,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,CAAA;KACrB,CAAC,CAAA;IACF,OAAO,GAAG,CAAA;AACZ,CAAC,EAAC;MAQW,UAAU,GAAG,kBAAkB,CAAC,CAAC,SAAa,EAAE,OAAW;IACtE,MAAM,GAAG,GAAO,EAAE,CAAA;IAIlB,YAAY,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE;QACzC,GAAG,CAAC,GAAG,CAAC,GAAG,SAAS,YAAY,CAAE,GAAG,IAAQ;YAE3C,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAA;YACnC,IAAI,SAAS,EAAE;gBACb,MAAM,MAAM,GAAG,oBAAoB,CAAC,IAAI,CAAC,MAAM,EAAE,YAAY,EAAE,SAAS,CAAC,CAAA;gBACzE,IAAI,CAAC,MAAM,EAAE;oBACX,OAAM;iBACP;gBACD,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAA;aACnC;YACD,OAAO,OAAO,GAAG,KAAK,UAAU;kBAC5B,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;kBACxC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAA;SACpD,CAAA;KACF,CAAC,CAAA;IACF,OAAO,GAAG,CAAA;AACZ,CAAC,EAAC;MAOW,uBAAuB,GAAG,CAAC,SAAa,MAAM;IACzD,QAAQ,EAAE,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC;IACxC,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC;IAC5C,YAAY,EAAE,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC;IAChD,UAAU,EAAE,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC;CAC7C,EAAC;AASF,SAAS,YAAY,CAAE,GAAO;IAC5B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;QACpB,OAAO,EAAE,CAAA;KACV;IACD,OAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC;UACrB,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;UACnC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAA;AAC3D,CAAC;AAOD,SAAS,UAAU,CAAE,GAAO;IAC1B,OAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAIA,UAAQ,CAAC,GAAG,CAAC,CAAA;AAC5C,CAAC;AAOD,SAAS,kBAAkB,CAAE,EAAW;IACtC,OAAO,CAAC,SAAa,EAAE,GAAO;QAC5B,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;YACjC,GAAG,GAAG,SAAS,CAAA;YACf,SAAS,GAAG,EAAE,CAAA;SACf;aAAM,IAAI,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;YACzD,SAAS,IAAI,GAAG,CAAA;SACjB;QACD,OAAO,EAAE,CAAC,SAAS,EAAE,GAAG,CAAC,CAAA;KAC1B,CAAA;AACH,CAAC;AASD,SAAS,oBAAoB,CAAE,KAAS,EAAE,MAAU,EAAE,SAAa;IACjE,MAAM,MAAM,GAAG,KAAK,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAA;IAIpD,OAAO,MAAM,CAAA;AACf;;SC7LgB,YAAY,CAAE,EAC5B,SAAS,GAAG,IAAI,EAChB,MAAM,GAAG,CAAC,QAAY,EAAE,WAAe,EAAE,UAAc,KAAK,IAAI,EAChE,WAAW,GAAG,CAAC,KAAS,KAAK,KAAK,EAClC,mBAAmB,GAAG,CAAC,GAAO,KAAK,GAAG,EACtC,YAAY,GAAG,CAAC,MAAU,EAAE,KAAS,KAAK,IAAI,EAC9C,iBAAiB,GAAG,CAAC,GAAO,KAAK,GAAG,EACpC,YAAY,GAAG,IAAI,EACnB,UAAU,GAAG,IAAI,EACjB,MAAM,GAAG,OAAO,KACd,EAAE;IACJ,OAAO,CAAC,KAAS;QACf,IAAI,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;QAErC,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;YACjC,OAAM;SACP;QAED,IAAI,YAAY,EAAE;YAChB,KAAK,CAAC,SAAS,CAAC,CAAC,QAAY,EAAE,KAAS;gBACtC,MAAM,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAA;gBAEjC,IAAI,MAAM,CAAC,QAAQ,EAAE,SAAS,EAAE,SAAS,CAAC,EAAE;oBAC1C,MAAM,aAAa,GAAG,gBAAgB,EAAE,CAAA;oBACxC,MAAM,iBAAiB,GAAG,mBAAmB,CAAC,QAAQ,CAAC,CAAA;oBACvD,MAAM,OAAO,GAAG,YAAY,QAAQ,CAAC,IAAI,GAAG,aAAa,EAAE,CAAA;oBAE3D,YAAY,CAAC,MAAM,EAAE,OAAO,EAAE,SAAS,CAAC,CAAA;oBACxC,MAAM,CAAC,GAAG,CAAC,eAAe,EAAE,mCAAmC,EAAE,WAAW,CAAC,SAAS,CAAC,CAAC,CAAA;oBACxF,MAAM,CAAC,GAAG,CAAC,aAAa,EAAE,mCAAmC,EAAE,iBAAiB,CAAC,CAAA;oBACjF,MAAM,CAAC,GAAG,CAAC,eAAe,EAAE,mCAAmC,EAAE,WAAW,CAAC,SAAS,CAAC,CAAC,CAAA;oBACxF,UAAU,CAAC,MAAM,CAAC,CAAA;iBACnB;gBAED,SAAS,GAAG,SAAS,CAAA;aACtB,CAAC,CAAA;SACH;QAED,IAAI,UAAU,EAAE;YACd,KAAK,CAAC,eAAe,CAAC,CAAC,MAAU,EAAE,KAAS;gBAC1C,IAAI,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,EAAE;oBAC/B,MAAM,aAAa,GAAG,gBAAgB,EAAE,CAAA;oBACxC,MAAM,eAAe,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAA;oBACjD,MAAM,OAAO,GAAG,UAAU,MAAM,CAAC,IAAI,GAAG,aAAa,EAAE,CAAA;oBAEvD,YAAY,CAAC,MAAM,EAAE,OAAO,EAAE,SAAS,CAAC,CAAA;oBACxC,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,mCAAmC,EAAE,eAAe,CAAC,CAAA;oBAC7E,UAAU,CAAC,MAAM,CAAC,CAAA;iBACnB;aACF,CAAC,CAAA;SACH;KACF,CAAA;AACH,CAAC;AAED,SAAS,YAAY,CAAE,MAAU,EAAE,OAAW,EAAE,SAAa;IAC3D,MAAM,YAAY,GAAG,SAAS;UAC1B,MAAM,CAAC,cAAc;UACrB,MAAM,CAAC,KAAK,CAAA;IAGhB,IAAI;QACF,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAAA;KACnC;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA;KACpB;AACH,CAAC;AAED,SAAS,UAAU,CAAE,MAAU;IAC7B,IAAI;QACF,MAAM,CAAC,QAAQ,EAAE,CAAA;KAClB;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,CAAA;KAC5B;AACH,CAAC;AAED,SAAS,gBAAgB;IACvB,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAA;IACvB,OAAO,MAAM,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,CAAC,CAAC,EAAE,CAAA;AACpI,CAAC;AAED,SAAS,MAAM,CAAE,GAAO,EAAE,KAAS;IACjC,OAAO,CAAC,IAAI,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAA;AACzC,CAAC;AAED,SAAS,GAAG,CAAE,GAAO,EAAE,SAAa;IAClC,OAAO,MAAM,CAAC,GAAG,EAAE,SAAS,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,GAAG,GAAG,CAAA;AAC7D;;ACtFA,IAAY,aAIX;AAJD,WAAY,aAAa;IACvB,+CAAG,CAAA;IACH,qDAAM,CAAA;IACN,qDAAM,CAAA;AACR,CAAC,EAJW,aAAa,KAAb,aAAa;;ACFlB,MAAM,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC,SAAS,IAAI,EAAE,CAAC;AAEpD,MAAM,WAAW,GAAG,gEAAgE,CAAC;SAMrE,IAAI,CAAC,IAAwB,EAAE,KAAyB,EAAE,YAA0B,EAAE;IACpG,IAAI,GAAG,GAAc,EAAE,CAAA;IACvB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG;QAC3B,IAAG,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,CAAC,EAAC;YAE5B,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,GAAG,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAA;YACpE,OAAM;SACP;QACD,IAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC;YAE7C,IAAG,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,EAAC;gBACjC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,GAAG,SAAS,EAAE,GAAG,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;aACjF;SAKF;aAAK;YACJ,IAAG,IAAI,CAAC,GAAG,CAAC,KAAK,KAAK,CAAC,GAAG,CAAC,EAAC;gBAC1B,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,GAAG,SAAS,EAAE,GAAG,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;aACjF;SACF;KAEF,CAAC,CAAA;IAEF,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,GAAG;QAC5B,IAAG,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAC;YAE3B,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,GAAG,SAAS,EAAC,GAAG,CAAC,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAA;SAC7E;KACF,CAAC,CAAA;IACF,OAAO,GAAG,CAAA;AACZ,CAAC;SAEe,eAAe,CAAC,IAAkB,EAAE,GAAiB,EAAE,KAAU;IAC/E,OAAO;QACL,IAAI,EAAC,IAAI;QACT,GAAG,EAAE,GAAG;QACR,KAAK,EAAE,KAAK;KACb,CAAA;AACH,CAAC;AAED,SAAS,QAAQ,CAAC,CAAK;IACrB,OAAO,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAA;AACxB,CAAC;AAGD,SAAS,OAAO,CAAC,IAAW,EAAE,KAAY;IAExC,OAAO,IAAI,KAAK,KAAK,CAAA;AACvB,CAAC;SAGe,WAAW,CAAC,MAAc;IACxC,OAAO,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAA;AAClC,CAAC;SAEe,OAAO;IACrB,MAAM,EAAE,GAAG,YAAY,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC;IACxC,OAAO,EAAE,CAAA;AACX,CAAC;SAEe,iBAAiB,CAAC,SAAkB;IAClD,OAAO,GAAG,SAAS,IAAI,SAAS,eAAe,CAAA;AACjD,CAAC;SAEe,YAAY,CAAC,SAAkB;IAC7C,OAAO,GAAG,SAAS,IAAI,SAAS,eAAe,CAAA;AACjD,CAAC;AAED,SAAS,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE,KAAa;IAC7C,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAK,IAAI,CAAC,GAAG,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,EAAE,CAAC;QAAE,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;IAC3F,OAAO,MAAM,CAAC;AAChB,CAAC;AAEM,MAAM,SAAS,GAAG,MAAM,CAAC,WAAW,CAAC,CAAA;AACrC,MAAM,cAAc,GAAG,WAAW,CAAA;SACzB,SAAS,CAAC,GAAW;IACnC,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,GAAU,EAAE,KAAS;QAC/C,IAAG,KAAK,KAAK,SAAS,EAAC;YACrB,OAAO,cAAc,CAAA;SACtB;QACD,OAAO,KAAK,CAAA;KACb,CAAC,CAAA;AACJ,CAAC;SAEe,SAAS,CAAC,IAAY;IACpC,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,GAAU,EAAE,KAAS;QAC/C,IAAG,KAAK,KAAK,cAAc,EAAC;YAC1B,OAAO,SAAS,CAAA;SACjB;QACD,OAAO,KAAK,CAAA;KACb,CAAC,CAAA;IACF,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG;QAC3B,IAAG,GAAG,CAAC,GAAG,CAAC,KAAK,SAAS,EAAC;YACxB,GAAG,CAAC,GAAG,CAAC,GAAG,SAAS,CAAA;SACrB;KACF,CAAC,CAAA;IACF,OAAO,GAAG,CAAA;AACZ,CAAC;SAEe,cAAc,CAAC,GAAU,EAAE,OAAe;IAExD,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,SAAS,GAAC,OAAO,CAAC,CAAC;AACrC,CAAC;SAEe,cAAc,CAAC,GAAU;IACvC,IAAI,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC3B,IAAI,IAAI,EAAE;QAER,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;YAC/B,OAAO,IAAI,CAAA;SACZ;KACF;IACD,OAAO,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC/B;;AC3HA,MAAM,EAAE,GAAG,OAAO,EAAE,CAAC;AACrB,IAAI,SAAS,GAAuB,EAAE,CAAC;SAiBvB,kBAAkB,CAAE,EAClC,SAAS,KACc,EAAE;IACzB,MAAM,cAAc,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC;IAC/C,MAAM,WAAW,GAAG,iBAAiB,CAAC,SAAS,CAAC,CAAC;IAEjD,OAAO,CAAC,KAAS;QAEf,SAAS,CAAC,KAAK,EAAE,cAAc,CAAC,CAAA;QAEhC,IAAI,YAAY,GAAI,MAAM,CAAC,YAAY,CAAA;QACvC,YAAY,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAC,EAAC,OAAO,EAAE,UAAU,EAAM;YACpE,IAAG,OAAO,KAAK,EAAE,EAAC;gBAChB,OAAM;aACP;YAED,IAAG,OAAO,UAAU,KAAK,QAAQ,EAAC;gBAChC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAA;aACpC;YACD,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;YAC9B,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACtC,CAAC,CAAA;QAGF,KAAK,CAAC,SAAS,CAAC,CAAC,QAAY,EAAE,KAAS;YACtC,cAAc,CAAC,cAAc,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YAEjD,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;YACjC,IAAG,CAAC,GAAG,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAC;gBAC1B,OAAM;aACP;YACD,YAAY,CAAC,YAAY,CAAC,WAAW,EAAE;gBACrC,OAAO,EAAE,EAAE;gBACX,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;aAChC,CAAC,CAAC;YACH,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC;SAChC,CAAC,CAAA;KACH,CAAA;AACH,CAAC;AAED,SAAS,SAAS,CAAC,KAAU,EAAE,cAAsB;IACnD,IAAI,OAAO,GAAG,cAAc,CAAC,cAAc,CAAC,CAAC;IAC7C,IAAG,OAAO,EAAC;QACT,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC;QAC7B,SAAS,GAAG,WAAW,CAAC,OAAO,CAAC,CAAC;QACjC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;KAC7B;AACH,CAAC;AAGD,SAAS,cAAc,CAAC,EAAM,EAAE,IAAkB,EAAE,KAAU;IAC5D,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IACzB,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAC,KAAK;QACrB,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAA;KACjB,CAAC,CAAA;IACF,IAAI,IAAI,OAAO,KAAM,IAAI,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,CAAA;AAC7C,CAAC;AAED,SAAS,UAAU,CAAC,KAAU,EAAE,UAA2B;IAC1D,UAAU,CAAC,OAAO,CAAC,SAAS;QAC1B,WAAW,CAAC,KAAK,EAAE,SAAS,CAAC,CAAA;KAC9B,CAAC,CAAA;AACH,CAAC;AAED,SAAS,WAAW,CAAC,KAAS,EAAE,SAAmB;IACjD,IAAI,EAAC,IAAI,EAAE,GAAG,EAAE,KAAK,EAAC,GAAG,SAAS,CAAC;IAEnC,KAAK,CAAC,WAAW,CAAC;QAChB,QAAO,IAAI;YACT,KAAK,aAAa,CAAC,GAAG;gBACpB,cAAc,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,CAAC,CAAA;gBACvC,MAAM;YACR,KAAK,aAAa,CAAC,MAAM;gBACvB,cAAc,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,EAAE,SAAS,CAAC,CAAA;gBAC3C,MAAM;YACR,KAAK,aAAa,CAAC,MAAM;gBACvB,cAAc,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,CAAC,CAAA;gBACvC,MAAM;SAGT;KACF,CAAC,CAAA;AACJ;;ACjGA,YAAe;IACb,WAAW;IACX,KAAK;IACL,QAAQ;IACR,QAAQ;IACR,YAAY;IACZ,UAAU;IACV,UAAU;IACV,uBAAuB;IACvB,YAAY;IACZ,kBAAkB;CACnB;;;;;;;;;;;;;;"}